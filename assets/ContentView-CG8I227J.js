import{r as f,o as k,c as p,d as l,w as d,e as c,_ as w,j as n,f as y,O as b,g as i,F as m,P as $,aj as I,k as h,h as C,i as s,a8 as P,a7 as _,t as u,n as V,ak as B}from"./index-BfIWj8y-.js";const F={class:"md:flex gap-4 items-center pb-6"},U={class:"text-3xl"},D={class:"text-2xl font-light"},N={key:0,class:"w-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 3xl:grid-cols-7 4xl:grid-cols-8 gap-6 place-items-center"},j=["href"],G=["src"],L={key:1},O={class:"space-y-1 text-center"},S={class:"text-xl xl:text-xl"},E={__name:"ContentView",setup(Y){var r=f([]);const x=f(!1);async function g(){r.value=null;try{const a=await B("lpac_upload");r.value=v(a)}catch(a){console.error("Failed to fetch content:",a)}x.value=!1}k(async()=>{await g()});function v(a){a.sort(function(t,e){return e.timestamp-t.timestamp});for(const t of a){const e=_(t.game);if(t.game=e.name,t.version=e.versions.find(o=>o.id==t.version).label??0,t.timestamp){const o=new Date(t.timestamp*1e3);t.timestamp=o.toLocaleString()}}return a}return(a,t)=>(l(),p(V,null,{default:d(()=>[c(w,null,{default:d(()=>[c(b,{class:"mb-6","use-small":"","even-smaller":""}),i(r)?(l(),n(m,{key:0},[c($,{icon:i(I),title:"Your Uploads",main:""},null,8,["icon"]),(l(!0),n(m,null,h(i(r),e=>(l(),p(C,{key:e.timestamp,class:"mb-6"},{default:d(()=>[s("div",F,[c(P,{path:i(_)(e.game).icon},null,8,["path"]),s("h1",U,u(i(_)(e.game).name),1),s("h1",D,u(e.timestamp),1)]),e.data?.status=="uploaded"?(l(),n("div",N,[(l(!0),n(m,null,h(e.data?.filelist,o=>(l(),n("div",{key:o.filename,class:"md:hover:scale-[1.1] transition ease-in-out"},[s("a",{href:`https://cdn.phaseii.network/file/PhaseII/${o.b2_path}`,target:"_blank"},[s("img",{class:"w-[200px]",src:`https://cdn.phaseii.network/file/PhaseII/${o.b2_path}`},null,8,G)],8,j)]))),128))])):(l(),n("div",L,[s("div",O,[t[0]||(t[0]=s("h1",{class:"text-2xl xl:text-4xl font-bold"}," Your content is still uploading! ",-1)),t[1]||(t[1]=s("h2",{class:"text-xl xl:text-2xl font-light"}," Please wait for the upload to complete. ",-1)),s("h2",S," Upload started at "+u(i(r)[0].timestamp),1)])]))]),_:2},1024))),128))],64)):y("",!0)]),_:1})]),_:1}))}};export{E as default};
