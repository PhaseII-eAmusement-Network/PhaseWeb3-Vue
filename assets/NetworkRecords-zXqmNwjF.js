import{l as k,m as w,a8 as S,r as N,s as R,o as B,Y as V,c as p,a as r,w as u,e as v,g as l,_ as D,b as _,d as c,f as F,a2 as G,p as i,F as g,h,n as I,t as m,q as A,D as T,k as C}from"./index-e9Wx1hVk.js";import{_ as E}from"./FormControl-YTXPOXsH.js";import{_ as L}from"./GameHeader-D_5GtQLZ.js";import{A as P}from"./music-DmRHAG2T.js";import"./PhGear.vue-DE_EYguT.js";import"./PhHouse.vue-Ba1qWu1i.js";const U={key:0,class:"md:w-1/3 md:text-right"},j={class:"md:flex w-full md:place-content-between"},q={class:"mb-4 md:mb-0 space-y-1"},M={class:"text-lg md:text-xl"},W={class:"text-md md:text-lg"},Y={class:"grid md:flex gap-2 md:justify-end md:place-content-end"},z={key:0,class:"bg-gray-900 dark:bg-gray-700 p-4 rounded-lg"},H={class:"text-md md:text-lg"},te={__name:"NetworkRecords",setup(J){const y=k(),$=w();var f=y.params.game;const e=S(f);var d=N([]);const a=R({currentVersion:null});e||$.push({name:"ErrorPage",params:{catchAll:"404"}}),e.versions||(a.currentVersion=1),B(async()=>{try{const t=await P(f);d.value=t,e.versions&&!a.currentVersion&&(a.currentVersion=x.value.at(-1)?.id??null)}catch(t){console.error("Failed to fetch score data:",t)}});const x=V(()=>{if(!e.versions)return[];const t=new Set(d.value.map(s=>s.version));return e.versions.filter(s=>t.has(s.id))}),b=V(()=>a.currentVersion?d.value.filter(t=>t.version===a.currentVersion):d.value);return(t,s)=>(r(),p(C,null,{default:u(()=>[l(d)?(r(),p(D,{key:0},{default:u(()=>[_(L,{game:l(e)},null,8,["game"]),_(F,{icon:l(G),title:"Top Records",main:""},{default:u(()=>[l(e).versions?(r(),c("div",U,[s[1]||(s[1]=i("h2",{class:"text-md sm:text-lg md:text-xl font-bold p-2"}," Select Version ",-1)),_(E,{modelValue:a.currentVersion,"onUpdate:modelValue":s[0]||(s[0]=o=>a.currentVersion=o),options:x.value.slice().reverse()},null,8,["modelValue","options"])])):v("",!0)]),_:1},8,["icon"]),(r(!0),c(g,null,h(b.value,o=>(r(),p(I,{key:o.id,class:"mb-6"},{default:u(()=>[i("div",j,[i("div",q,[i("h1",M,m(o.name),1),i("h2",W,m(o.artist),1),_(A,{label:"View Song",color:"info",to:`/games/${l(f)}/song/${o.id}`},null,8,["to"])]),i("div",Y,[(r(!0),c(g,null,h(o.charts,n=>(r(),c(g,{key:n.db_id},[n.data?.difficulty!=0?(r(),c("div",z,[i("h2",H,m(l(e).chartTable[n.chart])+" - "+m(n.data?.difficulty),1),T(" "+m(n.record?`${n.record?.username} - ${n.record.points?.toLocaleString()}`:"Unclaimed"),1)])):v("",!0)],64))),128))])])]),_:2},1024))),128))]),_:1})):v("",!0)]),_:1}))}};export{te as default};
