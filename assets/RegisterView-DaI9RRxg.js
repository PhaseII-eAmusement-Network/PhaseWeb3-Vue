import{m as V,r as v,z as _,c as p,a as c,w as r,p as a,b as o,n as I,D as y,E as X,g as t,G as P,e as $,q as f,J as U,K as C}from"./index-WESnALLw.js";import{I as q}from"./PhAt.vue-Ce-cd0VR.js";import{I as h}from"./PhCreditCard.vue-DsYhj7KW.js";import{G as u}from"./PhPassword.vue-B-CnAWqL.js";import{I as A}from"./PhSpinnerBall.vue-Ce8rPWg2.js";import{_ as R}from"./FormCheckRadio-CfkKWRPE.js";import{_ as n}from"./FormField-CXNPGohG.js";import{_ as m}from"./FormControl-CIOYh4lm.js";import{_ as k}from"./LayoutGuest-Nfw6nToA.js";const D={class:"flex md:min-h-screen md:items-center md:justify-center"},E={class:"p-4 flex flex-col md:flex-row w-full space-y-2 md:space-y-0 md:space-x-4"},G={class:"flex gap-2 mt-4"},N={class:"col-span-2"},S={class:"flex flex-col gap-2 my-4"},T={__name:"RegisterView",setup(B){const w=V(),i=v(!1),l=_({username:"",email:"",newPassword:"",confirmPassword:"",pin:"",cardId:"",remember:!0});function g(d){var e=d.target.value;e=e.replace(/[^0-9]/g,""),l.pin=e}function b(d){var e=d.target.value;e=e.replace(/[^A-Za-z0-9]/g,""),e=e.toUpperCase().replace(/(.{4})/g,"$1-").replace(/-$/,""),l.cardId=e}async function x(){i.value=!0,(await C(l)).status=="success"&&(i.value=!1,alert("User account registered. Please log in!"),w.push("login"))}return(d,e)=>(c(),p(k,null,{default:r(()=>[a("div",D,[o(I,{class:"w-full md:w-auto rounded-none md:rounded-xl md:drop-shadow-xl","has-table":"","is-auth":""},{default:r(()=>[a("div",E,[e[10]||(e[10]=a("div",{class:"flex flex-col items-center text-wrap h-full md:mt-5"},[a("img",{src:y,class:"rounded-full shadow-lg mb-2"}),a("h1",{class:"text-xl"},[a("samp",null,"PhaseII")]),a("p",{class:"text-sm text-gray-700 dark:text-white/75"}," Spinnin' since 2021 "),a("hr",{class:"border-t border my-1 w-full"}),a("p",{class:"text-lg relative bottom-0"},"Account Registration")],-1)),e[11]||(e[11]=a("div",{class:"md:border-r md:border"},null,-1)),a("div",null,[a("form",{class:"grid grid-cols-2 gap-x-2",onSubmit:e[7]||(e[7]=X(s=>x(),["prevent"]))},[o(n,{label:"Desired Username"},{default:r(()=>[o(m,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=s=>l.username=s),icon:t(P),name:"username",required:"",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),o(n,{label:"Email Address"},{default:r(()=>[o(m,{modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=s=>l.email=s),icon:t(q),type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),o(n,{label:"Password"},{default:r(()=>[o(m,{modelValue:l.newPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>l.newPassword=s),icon:t(u),name:"newPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),o(n,{label:"Password Confirmation"},{default:r(()=>[o(m,{modelValue:l.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=s=>l.confirmPassword=s),icon:t(u),name:"confirmPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),o(n,{label:"Card ID",help:"The ACCESS CODE provided by the game."},{default:r(()=>[o(m,{modelValue:l.cardId,"onUpdate:modelValue":e[4]||(e[4]=s=>l.cardId=s),icon:t(h),name:"cardId",type:"card",placeholder:"XXXX-XXXX-XXXX-XXXX",minlength:19,maxlength:19,required:"",onInput:b},null,8,["modelValue","icon"])]),_:1}),o(n,{label:"Game PIN"},{default:r(()=>[o(m,{modelValue:l.pin,"onUpdate:modelValue":e[5]||(e[5]=s=>l.pin=s),icon:t(u),type:"password",name:"pin",required:"",minlength:4,maxlength:4,inputmode:"numeric",pattern:"\\d{4}",autocomplete:"pin",onInput:g},null,8,["modelValue","icon"])]),_:1}),o(R,{modelValue:l.remember,"onUpdate:modelValue":e[6]||(e[6]=s=>l.remember=s),class:"col-span-2",name:"remember",label:"Remember Me","input-value":!0},null,8,["modelValue"]),a("div",G,[o(f,{type:"submit",label:"Register",color:"success"}),i.value?(c(),p(U,{key:0,icon:t(A),color:"text-yellow-500",class:"animate animate-spin"},null,8,["icon"])):$("",!0)])],32),a("div",N,[e[9]||(e[9]=a("hr",{class:"border-t border my-4 w-full"},null,-1)),a("div",S,[e[8]||(e[8]=a("h2",null,"Have an Account?",-1)),o(f,{label:"Log In",color:"info",to:"/auth/login"})])])])])]),_:1})])]),_:1}))}};export{T as default};
