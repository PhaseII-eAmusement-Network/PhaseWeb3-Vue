import{r as b,o as w,c as A,d as f,w as r,e,_ as I,j as k,f as y,F as D,i,h as d,J as u,g as c,am as P,ae as s,m as B}from"./index-D5js98pV.js";import{I as v}from"./PhFlagCheckered.vue-CkH3O92z.js";import{_}from"./GeneralTable-CgZ3N5Ab.js";import{b as R}from"./admin-DoTAzMzk.js";const C={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},$={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},E={class:"w-full"},N={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},S={class:"w-full"},G={__name:"DashboardView",setup(V){const a=b({}),m=b(!0);w(async()=>{try{const l=await R();a.value=l,m.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const h=[{text:"Timestamp",value:"date",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],p=[{text:"Timestamp",value:"date",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function g(l){var n=[];for(var t of l)if(t.type=="paseli_transaction"){if(t.timestamp){const o=new Date(t.timestamp*1e3);t.date=o.toLocaleString()}n.push(t)}return n}function x(l){var n=[];for(var t of l)if(t.type=="pcbevent"){if(t.timestamp){const o=new Date(t.timestamp*1e3);t.date=o.toLocaleString()}n.push(t)}return n}return(l,n)=>(f(),A(B,null,{default:r(()=>[e(I,null,{default:r(()=>[m.value?y("",!0):(f(),k(D,{key:0},[e(d,{class:"mb-6 p-1"},{default:r(()=>n[0]||(n[0]=[i("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),i("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1)])),_:1,__:[0]}),e(u,{icon:c(P),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),i("div",C,[e(s,{number:a.value?.statistics?.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:a.value?.statistics?.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:a.value?.statistics?.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:a.value?.statistics?.link,label:"Rivals"},null,8,["number"]),e(s,{number:a.value?.statistics?.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:a.value?.statistics?.score,label:"Published Scores"},null,8,["number"]),e(s,{number:a.value?.statistics?.score_history,label:"Score Attempts"},null,8,["number"]),e(s,{number:a.value?.statistics?.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:a.value?.statistics?.audit,label:"Recent Event Logs"},null,8,["number"])]),e(u,{icon:c(v),main:"",title:"Recent PCB Events"},null,8,["icon"]),e(d,{"has-table":"",class:"mb-6"},{default:r(()=>[i("div",$,[i("div",E,[e(_,{headers:h,items:x(a.value?.audit)},null,8,["items"])])])]),_:1}),e(u,{icon:c(v),main:"",title:"Recent PASELI Transactions"},null,8,["icon"]),e(d,{"has-table":""},{default:r(()=>[i("div",N,[i("div",S,[e(_,{headers:p,items:g(a.value?.audit)},null,8,["items"])])])]),_:1})],64))]),_:1})]),_:1}))}};export{G as default};
