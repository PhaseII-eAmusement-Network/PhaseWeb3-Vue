import{r as R,o as T,c as $,e as j,w as d,f as e,k as G,_ as u,j as i,$ as c,g as m,aA as H,aB as s,aC as S,F as q,n as M,p as U,q as W}from"./index.876daf35.js";import{_ as E}from"./GeneralTable.c787a642.js";import{A as z}from"./admin.7331481d.js";const J={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},K={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},O={class:"w-full"},Q={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},X={class:"w-full"},ae={__name:"DashboardView",setup(Y){const a=R({}),b=R(!0);T(async()=>{try{const l=await z();a.value=l,b.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const N=[{text:"Timestamp",value:"timestamp",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],V=[{text:"Timestamp",value:"timestamp",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function F(l){var n=[];for(var t of l)if(t.type=="paseli_transaction"){if(t.timestamp){const r=new Date(t.timestamp*1e3);t.timestamp=r.toLocaleString()}n.push(t)}return n}function L(l){var n=[];for(var t of l)if(t.type=="pcbevent"){if(t.timestamp){const r=new Date(t.timestamp*1e3);t.timestamp=r.toLocaleString()}n.push(t)}return n}return(l,n)=>($(),j(W,null,{default:d(()=>[e(U,null,{default:d(()=>{var t,r,f,v,h,_,p,g,x,w,A,k,y,B,D,I,P,C;return[b.value?M("",!0):($(),G(q,{key:0},[e(u,{class:"mb-6 p-1"},{default:d(()=>n[0]||(n[0]=[i("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),i("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1)])),_:1}),e(c,{icon:m(H),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),i("div",J,[e(s,{number:(r=(t=a.value)==null?void 0:t.statistics)==null?void 0:r.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:(v=(f=a.value)==null?void 0:f.statistics)==null?void 0:v.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:(_=(h=a.value)==null?void 0:h.statistics)==null?void 0:_.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:(g=(p=a.value)==null?void 0:p.statistics)==null?void 0:g.link,label:"Rivals"},null,8,["number"]),e(s,{number:(w=(x=a.value)==null?void 0:x.statistics)==null?void 0:w.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:(k=(A=a.value)==null?void 0:A.statistics)==null?void 0:k.score,label:"Published Scores"},null,8,["number"]),e(s,{number:(B=(y=a.value)==null?void 0:y.statistics)==null?void 0:B.score_history,label:"Score Attempts"},null,8,["number"]),e(s,{number:(I=(D=a.value)==null?void 0:D.statistics)==null?void 0:I.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:(C=(P=a.value)==null?void 0:P.statistics)==null?void 0:C.audit,label:"Recent Event Logs"},null,8,["number"])]),e(c,{icon:m(S),title:"Recent PCB Events"},null,8,["icon"]),e(u,{"has-table":""},{default:d(()=>{var o;return[i("div",K,[i("div",O,[e(E,{headers:N,items:L((o=a.value)==null?void 0:o.audit)},null,8,["items"])])])]}),_:1}),e(c,{icon:m(S),title:"Recent PASELI Transactions"},null,8,["icon"]),e(u,{"has-table":""},{default:d(()=>{var o;return[i("div",Q,[i("div",X,[e(E,{headers:V,items:F((o=a.value)==null?void 0:o.audit)},null,8,["items"])])])]}),_:1})],64))]}),_:1})]),_:1}))}};export{ae as default};
