import{r as i,a as y,o as P,c as I,d as u,w as n,e,_ as S,j as B,f as $,F as k,P as m,g as f,b1 as E,h as _,i as r,b2 as L,n as N}from"./index-CZV9MRmx.js";import{_ as h}from"./GeneralTable-duKeEe4G.js";import{_ as C}from"./ArcadeCard-BiRovYo5.js";import{A as F,e as R}from"./arcade-C-uxRpkM.js";const T={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},V={class:"w-full"},j={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},D={class:"w-full"},q={__name:"PaseliView",setup(H){const t=i({}),s=i({}),c=i(!0),v=y(),d=parseInt(v.params.id);async function p(){try{t.value=null;const a=await F(d);t.value=a}catch(a){console.error("Failed to fetch arcade data:",a)}}async function w(){try{s.value=null;const a=await R(d);s.value=a,c.value=!1}catch(a){console.error("Failed to fetch arcade PASELI:",a)}}P(()=>{c.value=!0,p(),w()});const b=[{text:"Timestamp",value:"timestamp",width:200},{text:"Amount",value:"data.delta",width:200},{text:"Remaining Balance",value:"data.balance",width:200},{text:"Reason",value:"data.reason",width:200}],g=[{text:"Player",value:"username"},{text:"Balance",value:"balance"}];function x(a){var o=[];for(var l of JSON.parse(JSON.stringify(a))){if(l.timestamp){const A=new Date(l.timestamp*1e3);l.timestamp=A.toLocaleString()}o.push(l)}return o}return(a,o)=>(u(),I(N,null,{default:n(()=>[e(S,null,{default:n(()=>[!c.value&&t.value?(u(),B(k,{key:0},[e(C,{class:"mb-6",arcade:t.value,"use-small":!0},null,8,["arcade"]),e(m,{icon:f(E),title:"Player PASELI Balances",main:""},null,8,["icon"]),e(_,{"has-table":""},{default:n(()=>[r("div",T,[r("div",V,[e(h,{headers:g,items:s.value.balances},null,8,["items"])])])]),_:1}),e(m,{icon:f(L),title:"PASELI Transaction History",main:"",class:"pt-6"},null,8,["icon"]),e(_,{"has-table":""},{default:n(()=>[r("div",j,[r("div",D,[e(h,{headers:b,items:x(s.value.transactions)},null,8,["items"])])])]),_:1})],64)):$("",!0)]),_:1})]),_:1}))}};export{q as default};
