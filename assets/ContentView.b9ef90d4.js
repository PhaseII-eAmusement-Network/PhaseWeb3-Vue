import{r as h,o as b,a,c as x,w as _,b as r,W as y,e as i,i as c,X as $,aa as I,F as u,j as g,_ as C,g as e,ab as V,a7 as f,t as p,k as B,l as F,n as P}from"./index.3d4bf4c6.js";import{k as U}from"./account.d1ab38cd.js";const D={class:"md:flex gap-4 items-center pb-6"},N={class:"text-3xl"},G={class:"text-2xl font-light"},L={key:0,class:"w-full grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 place-items-center"},S=["href"],Y=["src"],j={key:1},A={class:"space-y-1 text-center"},E=e("h1",{class:"text-2xl xl:text-4xl font-bold"}," Your content is still uploading! ",-1),M=e("h2",{class:"text-xl xl:text-2xl font-light"}," Please wait for the upload to complete. ",-1),O={class:"text-xl xl:text-xl"},z={__name:"ContentView",setup(W){var o=h([]);const v=h(!1);async function k(){o.value=null;try{const s=await U("lpac_upload");o.value=w(s),console.log(o.value)}catch(s){console.error("Failed to fetch content:",s)}v.value=!1}b(async()=>{await k()});function w(s){var d;s.sort(function(t,l){return l.timestamp-t.timestamp});for(const t of s){const l=f(t.game);if(t.game=l.name,t.version=(d=l.versions.find(n=>n.id==t.version).label)!=null?d:0,t.timestamp){const n=new Date(t.timestamp*1e3);t.timestamp=n.toLocaleString()}}return s}return(s,d)=>(a(),x(P,null,{default:_(()=>[r(F,null,{default:_(()=>[r(y,{class:"mb-6","use-small":"","even-smaller":""}),i(o)?(a(),c(u,{key:0},[r($,{icon:i(I),title:"Your Uploads",main:""},null,8,["icon"]),(a(!0),c(u,null,g(i(o),t=>(a(),x(C,{key:t.timestamp,class:"mb-6"},{default:_(()=>{var l,n;return[e("div",D,[r(V,{path:i(f)(t.game).icon},null,8,["path"]),e("h1",N,p(i(f)(t.game).name),1),e("h1",G,p(t.timestamp),1)]),((l=t.data)==null?void 0:l.status)=="uploaded"?(a(),c("div",L,[(a(!0),c(u,null,g((n=t.data)==null?void 0:n.filelist,m=>(a(),c("div",{key:m.filename,class:"md:hover:scale-[1.1] transition ease-in-out"},[e("a",{href:`https://cdn.phaseii.network/file/PhaseII/${m.b2_path}`,target:"_blank"},[e("img",{class:"w-[200px]",src:`https://cdn.phaseii.network/file/PhaseII/${m.b2_path}`},null,8,Y)],8,S)]))),128))])):(a(),c("div",j,[e("div",A,[E,M,e("h2",O," Upload started at "+p(i(o)[0].timestamp),1)])]))]}),_:2},1024))),128))],64)):B("",!0)]),_:1})]),_:1}))}};export{z as default};
