import{W as R,X as V,Y as x,d as i,a,Z as J,e as l,p as t,$ as q,u as ge,r as T,o as X,h as G,c as n,w as A,b as k,O as z,t as w,n as H,F as M,aA as te,aB as ce,aC as ae,aD as he,ah as ke,L as re,aE as le,aF as de,aG as $e,aH as Ae,aI as we,aJ as xe,aK as Ve,aL as Se,aM as Ce,aN as Pe,g as _,l as Me,m as Ze,a8 as Le,s as De,j as E,_ as Te,f as I,G as He,az as Ne,q as oe,aq as Be,a2 as je,ak as d,v as Ie,D as P,aO as Fe,k as ze}from"./index-D9D4Z_42.js";import{g as Y,I as Re}from"./danClass-BDSxUhCD.js";import{_ as Ee}from"./GameHeader-DktIo-Jj.js";import{_ as Oe,g as Ge,a as ee}from"./ProfileCard-CCUeK9kG.js";import{_ as Je}from"./FormControl-dAok93pX.js";import{_ as qe}from"./UserSticker-peqStG19.js";import{b as Xe,A as Ue}from"./profile-BbZDMp7E.js";import{A as We}from"./arcade-CTRBdmH-.js";import"./PhGear.vue-D-qfJQoR.js";import"./PhHouse.vue-CIn7JR9D.js";import"./userData-DZYdegtD.js";const Ke=["width","height","fill","transform"],Qe={key:0},Ye=t("path",{d:"M236,208a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V48a12,12,0,0,1,24,0v85.55L88.1,95a12,12,0,0,1,15.1-.57l56.22,42.16L216.1,87A12,12,0,1,1,231.9,105l-64,56a12,12,0,0,1-15.1.57L96.58,119.44,44,165.45V196H224A12,12,0,0,1,236,208Z"},null,-1),ea=[Ye],aa={key:1},la=t("path",{d:"M224,64V208H32V48H208A16,16,0,0,1,224,64Z",opacity:"0.2"},null,-1),ta=t("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"},null,-1),ra=[la,ta],sa={key:2},na=t("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM200,176a8,8,0,0,1,0,16H56a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v62.92l34.88-29.07a8,8,0,0,1,9.56-.51l43,28.69,43.41-36.18a8,8,0,0,1,10.24,12.3l-48,40a8,8,0,0,1-9.56.51l-43-28.69L64,155.75V176Z"},null,-1),oa=[na],ua={key:3},ia=t("path",{d:"M230,208a6,6,0,0,1-6,6H32a6,6,0,0,1-6-6V48a6,6,0,0,1,12,0v98.78l54.05-47.3a6,6,0,0,1,7.55-.28l60.11,45.08,60.34-52.8a6,6,0,0,1,7.9,9l-64,56a6,6,0,0,1-7.55.28L96.29,111.72,38,162.72V202H224A6,6,0,0,1,230,208Z"},null,-1),ca=[ia],da={key:4},ma=t("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"},null,-1),va=[ma],pa={key:5},ba=t("path",{d:"M228,208a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V48a4,4,0,0,1,8,0V151.19L93.37,101a4,4,0,0,1,5-.19l61.41,46.05L221.37,93a4,4,0,0,1,5.26,6l-64,56a4,4,0,0,1-5,.19l-61.41-46L36,161.81V204H224A4,4,0,0,1,228,208Z"},null,-1),fa=[ba],ya={name:"PhChartLine"},_a=R({...ya,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(u){const r=u,b=V("weight","regular"),$=V("size","1em"),f=V("color","currentColor"),o=V("mirrored",!1),s=x(()=>r.weight??b),p=x(()=>r.size??$),c=x(()=>r.color??f),e=x(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:o?"scale(-1, 1)":void 0);return(g,h)=>(a(),i("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:c.value,transform:e.value},g.$attrs),[J(g.$slots,"default"),s.value==="bold"?(a(),i("g",Qe,ea)):s.value==="duotone"?(a(),i("g",aa,ra)):s.value==="fill"?(a(),i("g",sa,oa)):s.value==="light"?(a(),i("g",ua,ca)):s.value==="regular"?(a(),i("g",da,va)):s.value==="thin"?(a(),i("g",pa,fa)):l("",!0)],16,Ke))}}),ga=["width","height","fill","transform"],ha={key:0},ka=t("path",{d:"M93.82,116.64A12,12,0,0,0,100,106.15V40.74A12,12,0,0,0,83,29.83,108.26,108.26,0,0,0,20,128c0,3.37.16,6.76.47,10.1a12,12,0,0,0,17.76,9.38ZM76,62.06v37L44.81,116.36A84.39,84.39,0,0,1,76,62.06ZM128,20a12,12,0,0,0-12,12v89.53L39.18,166.27a12,12,0,0,0-4.3,16.46A108,108,0,1,0,128,20Zm0,192a84.47,84.47,0,0,1-65.57-31.5L134,138.79a12,12,0,0,0,6-10.37V44.85A84,84,0,0,1,128,212Z"},null,-1),$a=[ka],Aa={key:1},wa=t("path",{d:"M96,37.5v72l-62.4,36A96,96,0,0,1,96,37.5Z",opacity:"0.2"},null,-1),xa=t("path",{d:"M100,116.43a8,8,0,0,0,4-6.93v-72A8,8,0,0,0,93.34,30,104.06,104.06,0,0,0,25.73,147a8,8,0,0,0,4.52,5.81,7.86,7.86,0,0,0,3.35.74,8,8,0,0,0,4-1.07ZM88,49.62v55.26L40.12,132.51C40,131,40,129.48,40,128A88.12,88.12,0,0,1,88,49.62ZM128,24a8,8,0,0,0-8,8v91.82L41.19,169.73a8,8,0,0,0-2.87,11A104,104,0,1,0,128,24Zm0,192a88.47,88.47,0,0,1-71.49-36.68l75.52-44a8,8,0,0,0,4-6.92V40.36A88,88,0,0,1,128,216Z"},null,-1),Va=[wa,xa],Sa={key:2},Ca=t("path",{d:"M100,116.43a8,8,0,0,0,4-6.93v-72A8,8,0,0,0,93.34,30,104.06,104.06,0,0,0,25.73,147a8,8,0,0,0,4.52,5.81,7.86,7.86,0,0,0,3.35.74,8,8,0,0,0,4-1.07ZM88,49.62v55.26L40.12,132.51C40,131,40,129.48,40,128A88.12,88.12,0,0,1,88,49.62ZM232,128A104,104,0,0,1,38.32,180.7a8,8,0,0,1,2.87-11L120,123.83V32a8,8,0,0,1,8-8,104.05,104.05,0,0,1,89.74,51.48c.11.16.21.32.31.49s.2.37.29.55A103.34,103.34,0,0,1,232,128Z"},null,-1),Pa=[Ca],Ma={key:3},Za=t("path",{d:"M102,109.5v-72a6,6,0,0,0-8-5.66A102,102,0,0,0,27.7,146.59a6,6,0,0,0,8.9,4.11l62.4-36A6,6,0,0,0,102,109.5ZM90,106l-51.66,29.8Q38,131.91,38,128A90.1,90.1,0,0,1,90,46.42Zm38-80a6,6,0,0,0-6,6v93L42.2,171.46a6,6,0,0,0-2.15,8.22A102,102,0,1,0,128,26Zm0,192a90.48,90.48,0,0,1-74.38-39.31L131,133.61a6,6,0,0,0,3-5.19V38.2A90,90,0,0,1,128,218Z"},null,-1),La=[Za],Da={key:4},Ta=t("path",{d:"M100,116.43a8,8,0,0,0,4-6.93v-72A8,8,0,0,0,93.34,30,104.06,104.06,0,0,0,25.73,147a8,8,0,0,0,4.52,5.81,7.86,7.86,0,0,0,3.35.74,8,8,0,0,0,4-1.07ZM88,49.62v55.26L40.12,132.51C40,131,40,129.48,40,128A88.12,88.12,0,0,1,88,49.62ZM128,24a8,8,0,0,0-8,8v91.82L41.19,169.73a8,8,0,0,0-2.87,11A104,104,0,1,0,128,24Zm0,192a88.47,88.47,0,0,1-71.49-36.68l75.52-44a8,8,0,0,0,4-6.92V40.36A88,88,0,0,1,128,216Z"},null,-1),Ha=[Ta],Na={key:5},Ba=t("path",{d:"M100,109.5v-72a4,4,0,0,0-5.33-3.77,100,100,0,0,0-65,112.5A4,4,0,0,0,35.6,149L98,113A4,4,0,0,0,100,109.5Zm-8-2.31L36.67,139.11A92,92,0,0,1,92,43.34ZM128,28a4,4,0,0,0-4,4v94.12L43.2,173.18a4,4,0,0,0-1.43,5.49A100,100,0,1,0,128,28Zm0,192a92.47,92.47,0,0,1-77.22-42L130,131.88a4,4,0,0,0,2-3.46V36.09A92,92,0,0,1,128,220Z"},null,-1),ja=[Ba],Ia={name:"PhChartPieSlice"},Fa=R({...Ia,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(u){const r=u,b=V("weight","regular"),$=V("size","1em"),f=V("color","currentColor"),o=V("mirrored",!1),s=x(()=>r.weight??b),p=x(()=>r.size??$),c=x(()=>r.color??f),e=x(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:o?"scale(-1, 1)":void 0);return(g,h)=>(a(),i("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:c.value,transform:e.value},g.$attrs),[J(g.$slots,"default"),s.value==="bold"?(a(),i("g",ha,$a)):s.value==="duotone"?(a(),i("g",Aa,Va)):s.value==="fill"?(a(),i("g",Sa,Pa)):s.value==="light"?(a(),i("g",Ma,La)):s.value==="regular"?(a(),i("g",Da,Ha)):s.value==="thin"?(a(),i("g",Na,ja)):l("",!0)],16,ga))}}),za=["width","height","fill","transform"],Ra={key:0},Ea=t("path",{d:"M168,28H88A60.07,60.07,0,0,0,28,88v80a60.07,60.07,0,0,0,60,60h48a11.9,11.9,0,0,0,3.79-.62c27.63-9.21,78.38-60,87.59-87.59A11.9,11.9,0,0,0,228,136V88A60.07,60.07,0,0,0,168,28ZM52,168V88A36,36,0,0,1,88,52h80a36,36,0,0,1,36,36v36H184a60.07,60.07,0,0,0-60,60v20H88A36,36,0,0,1,52,168Zm96,27.63V184a36,36,0,0,1,36-36h11.63C184,164.11,164.11,184,148,195.63Z"},null,-1),Oa=[Ea],Ga={key:1},Ja=t("path",{d:"M216,136c-8,24-56,72-80,80V184a48,48,0,0,1,48-48Z",opacity:"0.2"},null,-1),qa=t("path",{d:"M168,32H88A56.06,56.06,0,0,0,32,88v80a56.06,56.06,0,0,0,56,56h48a8.07,8.07,0,0,0,2.53-.41c26.23-8.75,76.31-58.83,85.06-85.06A8.07,8.07,0,0,0,224,136V88A56.06,56.06,0,0,0,168,32ZM48,168V88A40,40,0,0,1,88,48h80a40,40,0,0,1,40,40v40H184a56.06,56.06,0,0,0-56,56v24H88A40,40,0,0,1,48,168Zm96,35.14V184a40,40,0,0,1,40-40h19.14C191,163.5,163.5,191,144,203.14Z"},null,-1),Xa=[Ja,qa],Ua={key:2},Wa=t("path",{d:"M168,32H88A56.06,56.06,0,0,0,32,88v80a56.06,56.06,0,0,0,56,56h48a8.07,8.07,0,0,0,2.53-.41c26.23-8.75,76.31-58.83,85.06-85.06A8.07,8.07,0,0,0,224,136V88A56.06,56.06,0,0,0,168,32ZM136,207.42V176a40,40,0,0,1,40-40h31.42C198.16,157.55,157.55,198.16,136,207.42Z"},null,-1),Ka=[Wa],Qa={key:3},Ya=t("path",{d:"M168,34H88A54.06,54.06,0,0,0,34,88v80a54.06,54.06,0,0,0,54,54h48a5.86,5.86,0,0,0,1.9-.31c25.84-8.61,75.18-57.95,83.79-83.79A5.86,5.86,0,0,0,222,136V88A54.06,54.06,0,0,0,168,34ZM46,168V88A42,42,0,0,1,88,46h80a42,42,0,0,1,42,42v42H184a54.06,54.06,0,0,0-54,54v26H88A42,42,0,0,1,46,168Zm96,38.67V184a42,42,0,0,1,42-42h22.67C194.84,163.1,163.1,194.84,142,206.67Z"},null,-1),el=[Ya],al={key:4},ll=t("path",{d:"M168,32H88A56.06,56.06,0,0,0,32,88v80a56.06,56.06,0,0,0,56,56h48a8.07,8.07,0,0,0,2.53-.41c26.23-8.75,76.31-58.83,85.06-85.06A8.07,8.07,0,0,0,224,136V88A56.06,56.06,0,0,0,168,32ZM48,168V88A40,40,0,0,1,88,48h80a40,40,0,0,1,40,40v40H184a56.06,56.06,0,0,0-56,56v24H88A40,40,0,0,1,48,168Zm96,35.14V184a40,40,0,0,1,40-40h19.14C191,163.5,163.5,191,144,203.14Z"},null,-1),tl=[ll],rl={key:5},sl=t("path",{d:"M168,36H88A52.06,52.06,0,0,0,36,88v80a52.06,52.06,0,0,0,52,52h48a3.83,3.83,0,0,0,1.26-.21c25.46-8.48,74.05-57.07,82.53-82.53A3.83,3.83,0,0,0,220,136V88A52.06,52.06,0,0,0,168,36ZM44,168V88A44.05,44.05,0,0,1,88,44h80a44.05,44.05,0,0,1,44,44v44H184a52.06,52.06,0,0,0-52,52v28H88A44.05,44.05,0,0,1,44,168Zm96,42V184a44.05,44.05,0,0,1,44-44h26C198.9,162.23,162.23,198.9,140,210Z"},null,-1),nl=[sl],ol={name:"PhSticker"},ul=R({...ol,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(u){const r=u,b=V("weight","regular"),$=V("size","1em"),f=V("color","currentColor"),o=V("mirrored",!1),s=x(()=>r.weight??b),p=x(()=>r.size??$),c=x(()=>r.color??f),e=x(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:o?"scale(-1, 1)":void 0);return(g,h)=>(a(),i("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:c.value,transform:e.value},g.$attrs),[J(g.$slots,"default"),s.value==="bold"?(a(),i("g",Ra,Oa)):s.value==="duotone"?(a(),i("g",Ga,Xa)):s.value==="fill"?(a(),i("g",Ua,Ka)):s.value==="light"?(a(),i("g",Qa,el)):s.value==="regular"?(a(),i("g",al,tl)):s.value==="thin"?(a(),i("g",rl,nl)):l("",!0)],16,za))}}),il=["width","height","fill","transform"],cl={key:0},dl=t("path",{d:"M229.26,90.4a108,108,0,0,1-177.63,114A108,108,0,0,1,195.41,43.63l20.1-20.11a12,12,0,0,1,17,17l-96,96a12,12,0,1,1-17-17l24-24a36,36,0,1,0,19.76,39.65,12,12,0,0,1,23.53,4.74,60,60,0,1,1-25.73-62L178.3,60.74a84,84,0,1,0,28.46,38,12,12,0,1,1,22.5-8.35Z"},null,-1),ml=[dl],vl={key:1},pl=t("path",{d:"M176,128a48,48,0,1,1-48-48A48,48,0,0,1,176,128Z",opacity:"0.2"},null,-1),bl=t("path",{d:"M221.87,83.16A104.1,104.1,0,1,1,195.67,49l22.67-22.68a8,8,0,0,1,11.32,11.32l-96,96a8,8,0,0,1-11.32-11.32l27.72-27.72a40,40,0,1,0,17.87,31.09,8,8,0,1,1,16-.9,56,56,0,1,1-22.38-41.65L184.3,60.39a87.88,87.88,0,1,0,23.13,29.67,8,8,0,0,1,14.44-6.9Z"},null,-1),fl=[pl,bl],yl={key:2},_l=t("path",{d:"M221.87,83.16A104.1,104.1,0,1,1,195.67,49l22.67-22.68a8,8,0,0,1,11.32,11.32L167.6,99.71h0l-37.71,37.71-23.95,23.95a40,40,0,0,0,62-35.67,8,8,0,1,1,16-.9,56,56,0,0,1-95.5,42.79h0a56,56,0,0,1,73.13-84.43L184.3,60.39a87.88,87.88,0,1,0,23.13,29.67,8,8,0,0,1,14.44-6.9Z"},null,-1),gl=[_l],hl={key:3},kl=t("path",{d:"M220.06,84a102.06,102.06,0,1,1-24.31-32.27l24-24a6,6,0,0,1,8.48,8.49l-96,96a6,6,0,1,1-8.48-8.49l29.39-29.4a42,42,0,1,0,16.78,31.24,6,6,0,1,1,12-.68A54,54,0,1,1,161.7,85.83l25.54-25.55a89.91,89.91,0,1,0,22,28.93A6,6,0,1,1,220.06,84Z"},null,-1),$l=[kl],Al={key:4},wl=t("path",{d:"M221.87,83.16A104.1,104.1,0,1,1,195.67,49l22.67-22.68a8,8,0,0,1,11.32,11.32l-96,96a8,8,0,0,1-11.32-11.32l27.72-27.72a40,40,0,1,0,17.87,31.09,8,8,0,1,1,16-.9,56,56,0,1,1-22.38-41.65L184.3,60.39a87.88,87.88,0,1,0,23.13,29.67,8,8,0,0,1,14.44-6.9Z"},null,-1),xl=[wl],Vl={key:5},Sl=t("path",{d:"M218.26,84.89a100.16,100.16,0,1,1-22.44-30.37l25.35-25.35a4,4,0,1,1,5.66,5.66l-96,96a4,4,0,0,1-5.66-5.66l31-31a44,44,0,1,0,15.78,31.3,4,4,0,0,1,8-.46,52,52,0,1,1-18.1-36.51l28.34-28.33A92,92,0,0,0,63,193.05,92,92,0,0,0,211,88.33a4,4,0,1,1,7.22-3.44Z"},null,-1),Cl=[Sl],Pl={name:"PhTarget"},Ml=R({...Pl,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(u){const r=u,b=V("weight","regular"),$=V("size","1em"),f=V("color","currentColor"),o=V("mirrored",!1),s=x(()=>r.weight??b),p=x(()=>r.size??$),c=x(()=>r.color??f),e=x(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:o?"scale(-1, 1)":void 0);return(g,h)=>(a(),i("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:c.value,transform:e.value},g.$attrs),[J(g.$slots,"default"),s.value==="bold"?(a(),i("g",cl,ml)):s.value==="duotone"?(a(),i("g",vl,fl)):s.value==="fill"?(a(),i("g",yl,gl)):s.value==="light"?(a(),i("g",hl,$l)):s.value==="regular"?(a(),i("g",Al,xl)):s.value==="thin"?(a(),i("g",Vl,Cl)):l("",!0)],16,il))}}),Zl={class:"flex space-x-2 mb-2"},Ll={class:"flex justify-between items-center"},Dl={class:"grid"},Tl={class:"text-lg font-bold"},Hl={class:"text-md"},Nl={class:"text-lg"},Bl={class:"text-lg"},ue={__name:"JubilityTable",props:{jubilityData:{type:Array,required:!0},version:{type:Number,required:!0}},setup(u){const r=ge(),b=T(null),$=u,f={0:{label:"Basic",color:"info"},1:{label:"Advanced",color:"warning"},2:{label:"Extreme",color:"danger"}};return X(async()=>{try{b.value=null;const o=$.jubilityData.map(c=>c.song_id),s=await r.getMusicData("jubeat",$.version,o),p=$.jubilityData.map(c=>{const e=s.find(g=>g.id===c.song_id&&g.chart===c.chart);return{...c,...e?{songData:e}:{}}});p.sort((c,e)=>e.rate-c.rate),b.value=p}catch(o){console.error("Failed to fetch music data:",o)}}),(o,s)=>b.value?(a(!0),i(M,{key:0},G(b.value,p=>(a(),n(H,{key:p.id,"color-prop":"bg-slate-800 dark:bg-slate-800",class:"my-3 p-5","has-table":""},{default:A(()=>[t("div",Zl,[k(z,{label:f[p.chart].label,color:f[p.chart].color},null,8,["label","color"]),p.hard?(a(),n(z,{key:0,label:"Hard Mode",color:"danger"})):l("",!0)]),t("div",Ll,[t("div",Dl,[t("h1",Tl,w(p.songData.name),1),t("h2",Hl,w(p.songData.artist),1)]),t("div",null,[t("h2",Nl,"Jubility: "+w(p.value/10),1),t("h2",Bl,"Rate: "+w(p.rate/10),1)])])]),_:2},1024))),128)):l("",!0)}},me={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},jl={ariaLabel:{type:String},ariaDescribedby:{type:String}},Il={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...me,...jl},Fl=he[0]==="2"?(u,r)=>Object.assign(u,{attrs:r}):(u,r)=>Object.assign(u,r);function F(u){return de(u)?le(u):u}function zl(u){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return de(r)?new Proxy(u,{}):u}function Rl(u,r){const b=u.options;b&&r&&Object.assign(b,r)}function ve(u,r){u.labels=r}function pe(u,r,b){const $=[];u.datasets=r.map(f=>{const o=u.datasets.find(s=>s[b]===f[b]);return!o||!f.data||$.includes(o)?{...f}:($.push(o),Object.assign(o,f),o)})}function El(u,r){const b={labels:[],datasets:[]};return ve(b,u.labels),pe(b,u.datasets,r),b}const Ol=R({props:Il,setup(u,r){let{expose:b,slots:$}=r;const f=T(null),o=ce(null);b({chart:o});const s=()=>{if(!f.value)return;const{type:e,data:g,options:h,plugins:S,datasetIdKey:N}=u,L=El(g,N),C=zl(L,g);o.value=new te(f.value,{type:e,data:C,options:{...h},plugins:S})},p=()=>{const e=le(o.value);e&&(u.destroyDelay>0?setTimeout(()=>{e.destroy(),o.value=null},u.destroyDelay):(e.destroy(),o.value=null))},c=e=>{e.update(u.updateMode)};return X(s),ke(p),re([()=>u.options,()=>u.data],(e,g)=>{let[h,S]=e,[N,L]=g;const C=le(o.value);if(!C)return;let D=!1;if(h){const Z=F(h),B=F(N);Z&&Z!==B&&(Rl(C,Z),D=!0)}if(S){const Z=F(S.labels),B=F(L.labels),j=F(S.datasets),U=F(L.datasets);Z!==B&&(ve(C.config.data,Z),D=!0),j&&j!==U&&(pe(C.config.data,j,u.datasetIdKey),D=!0)}D&&Ae(()=>{c(C)})},{deep:!0}),()=>ae("canvas",{role:"img",ariaLabel:u.ariaLabel,ariaDescribedby:u.ariaDescribedby,ref:f},[ae("p",{},[$.default?$.default():""])])}});function Gl(u,r){return te.register(r),R({props:me,setup(b,$){let{expose:f}=$;const o=ce(null),s=p=>{o.value=p?.chart};return f({chart:o}),()=>ae(Ol,Fl({ref:s},{type:u,...b}))}})}const ie=Gl("radar",$e),Jl={class:"grid lg:grid-cols-2 gap-4"},ql={class:"w-full grid place-content-center text-center"},Xl={class:"text-lg"},Ul={class:"w-full grid place-content-center text-center"},Wl={class:"text-lg"},Kl={__name:"UserNotesRadar",props:{profile:{type:String,default:null},game:{type:String,default:null},version:{type:Number,default:9}},setup(u){te.register(we,xe,Ve,Se,Ce,Pe);const r=u,b=T(r.profile),$=T(r.version),f=T(!0),o=T(0),s=T({labels:["Notes","Peak","Scratch","Sof-Lan","Charge","Chord"],datasets:[{label:"SP",backgroundColor:"rgba(22, 95, 250, 0.2)",borderColor:"rgba(22, 95, 250, 1)",pointBackgroundColor:"rgba(22, 95, 250, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(22, 95, 250, 1)",data:[]},{label:"DP",backgroundColor:"rgba(250, 170, 22, 0.2)",borderColor:"rgba(250, 170, 22, 1)",pointBackgroundColor:"rgba(250, 170, 22, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(250, 170, 22, 1)",data:[]}]});re(()=>r.version,()=>{b.value=r.profile,$.value=r.version,p()});async function p(){try{const h=await Xe(r.game,r.version,b.value,[["notes_radar",0],["notes_radar",1]]),S=N=>{const[L,C,D,Z,B,j]=N;return[L/100,C/100,D/100,Z/100,B/100,j/100]};h[0]?.achievementId===0&&(s.value.datasets[0].data=S(h[0].data.radar_score)),h[1]?.achievementId===1&&(s.value.datasets[1].data=S(h[1].data.radar_score)),f.value=!1,o.value+=1}catch(h){console.error("Failed to fetch arcade data:",h)}}X(async()=>{p()});const c={responsive:!1,maintainAspectRatio:!0,scales:{r:{ticks:{stepSize:30,callback:function(h){return h}},pointLabels:{font:{size:15}}}}},e=x(()=>s.value.datasets[0].data.reduce((h,S)=>h+S,0).toFixed(2)),g=x(()=>s.value.datasets[1].data.reduce((h,S)=>h+S,0).toFixed(2));return(h,S)=>s.value.datasets[0]?(a(),n(H,{key:0,class:"my-6"},{default:A(()=>[t("div",Jl,[k(H,{"color-prop":"bg-slate-800 dark:bg-slate-800"},{default:A(()=>[k(z,{color:"info",label:"SP Radar",class:"mb-2"}),t("div",ql,[(a(),n(_(ie),{key:o.value,class:"bg-slate-100 p-2 rounded-lg",data:{labels:s.value.labels,datasets:[s.value.datasets[0]]},options:c},null,8,["data"])),t("span",Xl,"Total score: "+w(e.value),1)])]),_:1}),k(H,{"color-prop":"bg-slate-800 dark:bg-slate-800"},{default:A(()=>[k(z,{color:"info",label:"DP Radar",class:"mb-2"}),t("div",Ul,[(a(),n(_(ie),{key:o.value,class:"bg-slate-100 p-2 rounded-lg",data:{labels:s.value.labels,datasets:[s.value.datasets[1]]},options:c},null,8,["data"])),t("span",Wl,"Total score: "+w(g.value),1)])]),_:1})])]),_:1})):l("",!0)}},Ql={key:0,class:"mt-2 md:mt-0 md:w-1/3 md:text-right"},Yl=["src"],et={class:"bg-white dark:bg-slate-900/90 rounded-2xl pt-6 p-3 card-content"},at={class:"w-full"},lt={key:0,class:"md:w-1/3 grid grid-cols-1 md:grid-cols-2 gap-3 mt-4"},tt={class:"my-6 grid grid-cols-1 md:grid-cols-4 gap-6"},rt={class:"my-6 grid grid-cols-2 md:grid-cols-5 xl:grid-cols-6 gap-6"},st={class:"my-6 grid grid-cols-1 md:grid-cols-2 gap-6"},nt={class:"my-6"},ot={class:"my-6"},ut={class:"border-s border-neutral-300 md:flex md:justify-start md:gap-10 md:border-s-0 md:border-t md:overflow-x-auto overflow-y-visible md:whitespace-nowrap scrollbar"},it={class:"flex-start flex items-center pt-2 md:block md:pt-4"},ct={class:"mt-2 text-sm font-light"},dt={class:"ms-4 pb-6 md:ms-0"},mt={class:"text-lg font-semibold"},wt={__name:"PlayerView",setup(u){const r="https://cdn.phaseii.network/file/PhaseII/web-assets",b=Me(),$=Ze();var f=null,o=null,s=null,p=!0;f=b.params.game,s=b.params.userId,o=Le(f),o||$.push({name:"ErrorPage",params:{catchAll:"404"}});const c=De({currentVersion:null});re(()=>c.currentVersion,()=>{p?p=!1:g()});const e=T(null);X(async()=>{g()}),o.versions||(c.currentVersion=1);async function g(){try{e.value=null;var v=await Ue(f,c.currentVersion,s);v.timeline=await be(v),e.value=j(v),v&&!c.currentVersion&&(c.currentVersion=v.versions[v.versions.length-1])}catch(m){console.error("Failed to fetch user profile data:",m)}}async function h(v){try{return await We(v)}catch(m){console.error("Failed to fetch arcade data:",m)}}var S=[{label:"Register Date",type:String,span:"md:col-span-2",key:"first_play_timestamp"},{label:"Last Play",type:String,span:"md:col-span-2",key:"last_play_timestamp"},{label:"First Arcade",type:String,span:"md:col-span-2",key:"first_play_arcade"},{label:"Last Arcade",type:String,span:"md:col-span-2",key:"last_play_arcade"},{label:"Total Plays",type:Number,key:"total_plays"},{label:"EXP",type:Number,key:"exp"},{label:"SP Plays",type:Number,key:"single_plays"},{label:"DP Plays",type:Number,key:"double_plays"},{label:"SP DJPOINT",type:Number,key:"single_dj_points"},{label:"DP DJPOINT",type:Number,key:"double_dj_points"}];function N(){return c.currentVersion?`${r}/games/${o.id}/card/${c.currentVersion}.webp`:o.cardBG}function L(){return c.currentVersion&&o.videoTable?.includes(c.currentVersion)?`https://cdn.phaseii.network/file/PhaseII/game-assets/video/${o.id}/${c.currentVersion}.mp4`:null}function C(){return o.videoTable?.includes(c.currentVersion)?null:`
      background-image: url('${N()}');
      background-size: cover;
      background-repeat: no-repeat;
    `}function D(v,m){return""}function Z(v){var m=[];for(const y of o.versions)v.includes(y.id)&&m.push(y);return m}function B(v,m){return v.isSkill?m.stats[v.key]/100:v.isJubility?m.stats[v.key]/10:m.stats[v.key]}function j(v){return v.stats&&(v.stats.first_play_timestamp&&(v.stats.first_play_timestamp=E(v.stats.first_play_timestamp)),v.stats.last_play_timestamp&&(v.stats.last_play_timestamp=E(v.stats.last_play_timestamp)),v.dp&&v.dp.dan!==void 0&&(v.dp.dan=Y(v.dp.dan).short)),v}function U(v){const m=v.stats?.count;return m?[m.mfc!=null?{label:"MFCs",value:m.mfc}:{label:"MFCs",value:0},m.pfc!=null?{label:"PFCs",value:m.pfc}:{label:"PFCs",value:0},m.fc!=null?{label:"GFCs",value:m.fc}:{label:"GFCs",value:0},m.gfc!=null?{label:"FCs",value:m.gfc}:{label:"FCs",value:0},m.life4!=null?{label:"Life-4 Clears",value:m.life4}:{label:"Life-4 Clears",value:0}]:[]}async function be(v){const m=v?.stats,y=m?.first_play_timestamp,W=m?.last_play_timestamp,se=m?.arcade_history,O=[];if(y&&O.push({timestamp:E(y),arcade:m?.first_play_arcade,first_play:!0}),se)for(const[K,Q]of Object.entries(se)){const fe=await h(K);for(const[ye,_e]of Object.entries(Q))for(const ne of _e)[y,W].includes(ne)||O.push({timestamp:E(ne),arcade:fe.name,machineId:ye,first_play:!1})}return W&&O.push({timestamp:E(W),arcade:m?.last_play_arcade,first_play:!1}),O.sort((K,Q)=>new Date(K.timestamp).getTime()-new Date(Q.timestamp).getTime())}return(v,m)=>(a(),n(ze,null,{default:A(()=>[e.value?(a(),n(Te,{key:0},{default:A(()=>[k(Ee,{game:_(o)},null,8,["game"]),k(I,{icon:_(He),title:"View Profile",main:""},{default:A(()=>[_(o).versions&&e.value?(a(),i("div",Ql,[m[1]||(m[1]=t("h2",{class:"text-md sm:text-lg md:text-xl font-bold p-2"}," Select Version ",-1)),k(Je,{modelValue:c.currentVersion,"onUpdate:modelValue":m[0]||(m[0]=y=>c.currentVersion=y),options:Z(e.value.versions)},null,8,["modelValue","options"])])):l("",!0)]),_:1},8,["icon"]),c.currentVersion&&e.value?(a(),i("div",{key:0,style:Ne(C()),class:"rounded-2xl mb-6 card-container"},[t("video",{autoplay:"",muted:"",loop:"",playsinline:"",src:L(),class:"background-video"},null,8,Yl),t("div",et,[t("div",at,[k(Oe,{game:_(f),version:c.currentVersion,profile:e.value},{default:A(()=>[_(o).noScores?l("",!0):(a(),i("div",lt,[k(oe,{to:`/games/${_(f)}/scores/${e.value.userId}`,icon:_(Be),class:"w-full md:w-auto",color:"info",label:"View Scores"},null,8,["to","icon"]),k(oe,{to:`/games/${_(f)}/records/${e.value.userId}`,icon:_(je),class:"w-full md:w-auto",color:"info",label:"View Records"},null,8,["to","icon"])]))]),_:1},8,["game","version","profile"])])])],4)):l("",!0),t("div",tt,[(a(!0),i(M,null,G(_(S),y=>(a(),i(M,{key:y},[e.value.stats[y.key]?(a(),n(d,{key:0,class:Ie(y.span),label:y.label,number:y.type==Number?B(y,e.value):null,"num-color":D(y)},{default:A(()=>[P(w(y.type==String?e.value.stats[y.key]:null),1)]),_:2},1032,["class","label","number","num-color"])):l("",!0)],64))),128)),e.value.stats?.count?.records?(a(),n(d,{key:0,label:"Records",number:e.value.stats?.count?.records},null,8,["number"])):l("",!0),e.value.stats?.count?.attempts?(a(),n(d,{key:1,label:"Scores",number:e.value.stats?.count?.attempts},null,8,["number"])):l("",!0),e.value.skill?(a(),n(d,{key:2,label:"Skill Points",number:e.value.skill/100,"num-color":_(Ge)(e.value.skill)},null,8,["number","num-color"])):l("",!0),e.value.profile_skill?(a(),n(d,{key:3,label:"Skill Level"},{default:A(()=>[P(w(e.value.profile_skill/100),1)]),_:1})):l("",!0),e.value.jubility?(a(),n(d,{key:4,label:"Jubility","num-color":_(ee)(e.value.jubility)},{default:A(()=>[P(w(e.value.jubility/10),1)]),_:1},8,["num-color"])):l("",!0),e.value.pick_up_jubility?(a(),n(d,{key:5,label:"Pick-Up Jubility","num-color":_(ee)(e.value.pick_up_jubility)},{default:A(()=>[P(w(e.value.pick_up_jubility/10),1)]),_:1},8,["num-color"])):l("",!0),e.value.common_jubility?(a(),n(d,{key:6,label:"Common Jubility","num-color":_(ee)(e.value.common_jubility)},{default:A(()=>[P(w(e.value.common_jubility/10),1)]),_:1},8,["num-color"])):l("",!0),e.value.deller?(a(),n(d,{key:7,label:"Deller",number:e.value.deller},null,8,["number"])):l("",!0),e.value.sgrade?(a(),n(d,{key:8,label:"SP DAN"},{default:A(()=>[P(w(_(Y)(e.value.sgrade).label),1)]),_:1})):l("",!0),e.value.dgrade?(a(),n(d,{key:9,label:"DP DAN"},{default:A(()=>[P(w(_(Y)(e.value.dgrade).label),1)]),_:1})):l("",!0),e.value.total_exp?(a(),n(d,{key:10,label:"EXP",number:e.value.total_exp},null,8,["number"])):l("",!0),e.value.coin_num?(a(),n(d,{key:11,label:"Coins",number:e.value.coin_num},null,8,["number"])):l("",!0),e.value.block?(a(),n(d,{key:12,label:"Block",number:e.value.block},null,8,["number"])):l("",!0),e.value.packet?(a(),n(d,{key:13,label:"Packet",number:e.value.packet},null,8,["number"])):l("",!0)]),e.value.stats?.count||e.value.tune_cnt||e.value.max_clear_diff||e.value.battle_data?(a(),i(M,{key:1},[k(I,{icon:_(_a),title:"Stats",main:""},null,8,["icon"]),t("div",rt,[(a(!0),i(M,null,G(U(e.value),y=>(a(),i(M,{key:y},[y!==void 0?(a(),n(d,{key:0,label:y.label,number:y.value},{default:A(()=>[P(w(y.value?null:"0"),1)]),_:2},1032,["label","number"])):l("",!0)],64))),128)),e.value.tune_cnt?(a(),n(d,{key:0,label:"Total Tunes",number:e.value.tune_cnt},null,8,["number"])):l("",!0),e.value.ex_cnt?(a(),n(d,{key:1,label:"Total EXC",number:e.value.ex_cnt},null,8,["number"])):l("",!0),e.value.fc_cnt?(a(),n(d,{key:2,label:"Total FC",number:e.value.fc_cnt},null,8,["number"])):l("",!0),e.value.clear_cnt?(a(),n(d,{key:3,label:"Total Clear",number:e.value.clear_cnt},null,8,["number"])):l("",!0),e.value.saved_cnt?(a(),n(d,{key:4,label:"Total Saved",number:e.value.saved_cnt},null,8,["number"])):l("",!0),e.value.match_cnt?(a(),n(d,{key:5,label:"Total Matches",number:e.value.match_cnt},null,8,["number"])):l("",!0),e.value.max_clear_diff?(a(),n(d,{key:6,label:"Max Clear Difficulty"},{default:A(()=>[P(w(e.value.max_clear_diff/100),1)]),_:1})):l("",!0),e.value.max_full_diff?(a(),n(d,{key:7,label:"Max FC Difficulty"},{default:A(()=>[P(w(e.value.max_full_diff/100),1)]),_:1})):l("",!0),e.value.max_exce_diff?(a(),n(d,{key:8,label:"Max EX FC Difficulty"},{default:A(()=>[P(w(e.value.max_exce_diff/100),1)]),_:1})):l("",!0),e.value.clear_num?(a(),n(d,{key:9,label:"Total Clear",number:e.value.clear_num},null,8,["number"])):l("",!0),e.value.full_num?(a(),n(d,{key:10,label:"Total FC",number:e.value.full_num},null,8,["number"])):l("",!0),e.value.exce_num?(a(),n(d,{key:11,label:"Total EX FC",number:e.value.exce_num},null,8,["number"])):l("",!0),e.value.e_num?(a(),n(d,{key:12,label:"Total E",number:e.value.e_num},null,8,["number"])):l("",!0),e.value.d_num?(a(),n(d,{key:13,label:"Total D",number:e.value.d_num},null,8,["number"])):l("",!0),e.value.c_num?(a(),n(d,{key:14,label:"Total C",number:e.value.c_num},null,8,["number"])):l("",!0),e.value.b_num?(a(),n(d,{key:15,label:"Total B",number:e.value.b_num},null,8,["number"])):l("",!0),e.value.a_num?(a(),n(d,{key:16,label:"Total A",number:e.value.a_num},null,8,["number"])):l("",!0),e.value.s_num?(a(),n(d,{key:17,label:"Total S",number:e.value.s_num},null,8,["number"])):l("",!0),e.value.ss_num?(a(),n(d,{key:18,label:"Total SS",number:e.value.ss_num},null,8,["number"])):l("",!0),e.value.session_cnt?(a(),n(d,{key:19,label:"Sessions Played",number:e.value.session_cnt},null,8,["number"])):l("",!0),e.value.battle_data?.win_num?(a(),n(d,{key:20,label:"Total Wins",number:e.value.battle_data?.win_num},null,8,["number"])):l("",!0),e.value.battle_data?.lose_num?(a(),n(d,{key:21,label:"Total Losses",number:e.value.battle_data?.lose_num},null,8,["number"])):l("",!0),e.value.battle_data?.draw_num?(a(),n(d,{key:22,label:"Total Draws",number:e.value.battle_data?.draw_num},null,8,["number"])):l("",!0)])],64)):l("",!0),e.value.jubility?(a(),i(M,{key:2},[k(I,{icon:_(Fa),title:"Jubility Breakdown",main:""},null,8,["icon"]),t("div",st,[e.value.pick_up_breakdown?(a(),n(H,{key:0},{default:A(()=>[k(z,{label:"Pick-Up",color:"info"}),k(ue,{"jubility-data":e.value.pick_up_breakdown,",":"",version:c.currentVersion},null,8,["jubility-data","version"])]),_:1})):l("",!0),e.value.other_breakdown?(a(),n(H,{key:1},{default:A(()=>[k(z,{label:"Common",color:"info"}),k(ue,{"jubility-data":e.value.other_breakdown,",":"",version:c.currentVersion},null,8,["jubility-data","version"])]),_:1})):l("",!0)])],64)):l("",!0),e.value?.trbitem?(a(),i(M,{key:3},[k(I,{icon:_(ul),title:"Sticker Board",main:""},null,8,["icon"]),t("div",nt,[k(H,{class:"w-full grid place-content-center"},{default:A(()=>[k(qe,{version:c.currentVersion,profile:e.value,size:290},null,8,["version","profile"])]),_:1})])],64)):l("",!0),_(o).id==_(Fe).IIDX&&c.currentVersion>=29?(a(),i(M,{key:4},[k(I,{icon:_(Ml),title:"Notes Radar",main:""},null,8,["icon"]),k(Kl,{game:_(o).id,version:c.currentVersion,profile:_(s)},null,8,["game","version","profile"])],64)):l("",!0),e.value?.timeline?(a(),i(M,{key:5},[k(I,{icon:_(Re),title:"Timeline",main:""},null,8,["icon"]),t("div",ot,[k(H,null,{default:A(()=>[t("ol",ut,[(a(!0),i(M,null,G(JSON.parse(JSON.stringify(e.value?.timeline)).reverse(),y=>(a(),i("li",{key:y.timestamp,class:"md:inline-block shrink-0"},[t("div",it,[m[2]||(m[2]=t("div",{class:"-ms-[6px] me-3 h-[12px] w-[12px] md:w-0.5 md:h-4 rounded-full md:rounded-none bg-gray-300 md:-mt-6 md:me-0 md:ms-0"},null,-1)),t("p",ct,w(y.timestamp),1)]),t("div",dt,[t("h4",mt,w(y.arcade),1)])]))),128))])]),_:1})])],64)):l("",!0)]),_:1})):l("",!0)]),_:1}))}};export{wt as default};
