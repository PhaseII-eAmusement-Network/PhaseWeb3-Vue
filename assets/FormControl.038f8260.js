import{a as r,c as B,I as V,B as m,u as R,r as h,o as w,J as q,i,e as n,C as y,K as C,E as p,z as v,F as D,j as M,t as K,L,D as U,k as z}from"./index.e776b26c.js";const I={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(s,a)=>(r(),B(V,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},j={class:"relative"},A=["id","name"],H=["value"],N=["id","name","maxlength","minlength","placeholder","required"],T=["id","name","maxlength","minlength","inputmode","autocomplete","required","placeholder","type"],J={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},maxlength:{type:String,default:null},minlength:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(e,{emit:s}){const a=e,u=m({get:()=>a.modelValue,set:o=>{s("update:modelValue",o)}}),f=m(()=>{const o=["px-3 py-2 max-w-full focus:ring focus:outline-none border-blue-700 dark:border-blue-500 rounded w-full","dark:placeholder-gray-400",d.value==="textarea"?"h-24":"h-12",a.borderless?"border-0":"border",a.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return a.icon&&o.push("pl-10"),o}),d=m(()=>a.options?"select":a.type),E=m(()=>a.type==="textarea"?"h-full":"h-12"),g=R(),x=h(null),k=h(null),c=h(null);if(w(()=>{x.value?s("setRef",x.value):k.value?s("setRef",k.value):s("setRef",c.value)}),a.ctrlKFocus){const o=l=>{l.ctrlKey&&l.key==="k"?(l.preventDefault(),c.value.focus()):l.key==="Escape"&&c.value.blur()};w(()=>{g.isFieldFocusRegistered||(window.addEventListener("keydown",o),g.isFieldFocusRegistered=!0)}),q(()=>{window.removeEventListener("keydown",o),g.isFieldFocusRegistered=!1})}return(o,l)=>(r(),i("div",j,[n(d)==="select"?y((r(),i("select",{key:0,id:e.id,"onUpdate:modelValue":l[0]||(l[0]=t=>p(u)?u.value=t:null),name:e.name,class:v(n(f))},[(r(!0),i(D,null,M(e.options,t=>{var b,S,F;return r(),i("option",{key:(b=t.id)!=null?b:t,value:(S=t.id)!=null?S:t},K((F=t.label)!=null?F:t),9,H)}),128))],10,A)),[[C,n(u)]]):n(d)==="textarea"?y((r(),i("textarea",{key:1,id:e.id,"onUpdate:modelValue":l[1]||(l[1]=t=>p(u)?u.value=t:null),class:v(n(f)),name:e.name,maxlength:e.maxlength,minlength:e.minlength,placeholder:e.placeholder,required:e.required},null,10,N)),[[L,n(u)]]):y((r(),i("input",{key:2,id:e.id,ref_key:"inputEl",ref:c,"onUpdate:modelValue":l[2]||(l[2]=t=>p(u)?u.value=t:null),name:e.name,maxlength:e.maxlength,minlength:e.minlength,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:n(d),class:v(n(f))},null,10,T)),[[U,n(u)]]),e.icon?(r(),B(I,{key:3,icon:e.icon,h:n(E)},null,8,["icon","h"])):z("",!0)]))}};export{J as _};
