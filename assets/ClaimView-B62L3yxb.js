import{R as C,S as d,U as h,j as t,d as e,V as x,f as g,i as a,W as b,u as B,r as w,n as P,c as H,w as m,e as l,_ as X,I,F as D,J as A,g as _,ap as T,h as V,s as z,y as $,l as y,v as N,t as M,m as F}from"./index-D5js98pV.js";import{I as R}from"./PhSpinnerBall.vue-DB_-d1qn.js";import{F as k}from"./PhUnite.vue-k1O75Ly2.js";import{_ as j}from"./FormField-Bh7gS7TO.js";import{_ as q}from"./FormControl-DfNoBpfO.js";import{f as E,g as G}from"./arcade-mGzuezTz.js";const U=["width","height","fill","transform"],W={key:0},L=a("path",{d:"M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"},null,-1),Q=[L],Y={key:1},J=a("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),K=a("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"},null,-1),O=[J,K],a0={key:2},e0=a("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"},null,-1),t0=[e0],l0={key:3},s0=a("path",{d:"M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"},null,-1),o0=[s0],r0={key:4},i0=a("path",{d:"M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"},null,-1),n0=[i0],u0={key:5},c0=a("path",{d:"M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"},null,-1),v0=[c0],m0={name:"PhQuestion"},d0=C({...m0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(Z){const o=Z,f=d("weight","regular"),r=d("size","1em"),u=d("color","currentColor"),n=d("mirrored",!1),s=h(()=>o.weight??f),c=h(()=>o.size??r),p=h(()=>o.color??u),i=h(()=>o.mirrored!==void 0?o.mirrored?"scale(-1, 1)":void 0:n?"scale(-1, 1)":void 0);return(v,S)=>(e(),t("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:c.value,height:c.value,fill:p.value,transform:i.value},v.$attrs),[x(v.$slots,"default"),s.value==="bold"?(e(),t("g",W,Q)):s.value==="duotone"?(e(),t("g",Y,O)):s.value==="fill"?(e(),t("g",a0,t0)):s.value==="light"?(e(),t("g",l0,o0)):s.value==="regular"?(e(),t("g",r0,n0)):s.value==="thin"?(e(),t("g",u0,v0)):g("",!0)],16,U))}}),h0=["width","height","fill","transform"],f0={key:0},p0=a("path",{d:"M112,36a12,12,0,0,0-12,12V60H24A20,20,0,0,0,4,80v96a20,20,0,0,0,20,20h76v12a12,12,0,0,0,24,0V48A12,12,0,0,0,112,36ZM28,172V84h72v88ZM252,80v96a20,20,0,0,1-20,20H152a12,12,0,0,1,0-24h76V84H152a12,12,0,0,1,0-24h80A20,20,0,0,1,252,80ZM88,112a12,12,0,0,1-12,12v20a12,12,0,0,1-24,0V124a12,12,0,0,1,0-24H76A12,12,0,0,1,88,112Z"},null,-1),g0=[p0],_0={key:1},Z0=a("path",{d:"M240,80v96a8,8,0,0,1-8,8H24a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H232A8,8,0,0,1,240,80Z",opacity:"0.2"},null,-1),A0=a("path",{d:"M112,40a8,8,0,0,0-8,8V64H24A16,16,0,0,0,8,80v96a16,16,0,0,0,16,16h80v16a8,8,0,0,0,16,0V48A8,8,0,0,0,112,40ZM24,176V80h80v96ZM248,80v96a16,16,0,0,1-16,16H144a8,8,0,0,1,0-16h88V80H144a8,8,0,0,1,0-16h88A16,16,0,0,1,248,80ZM88,112a8,8,0,0,1-8,8H72v24a8,8,0,0,1-16,0V120H48a8,8,0,0,1,0-16H80A8,8,0,0,1,88,112Z"},null,-1),V0=[Z0,A0],y0={key:2},M0=a("path",{d:"M248,80v96a16,16,0,0,1-16,16H140a4,4,0,0,1-4-4V68a4,4,0,0,1,4-4h92A16,16,0,0,1,248,80ZM120,48V208a8,8,0,0,1-16,0V192H24A16,16,0,0,1,8,176V80A16,16,0,0,1,24,64h80V48a8,8,0,0,1,16,0ZM88,112a8,8,0,0,0-8-8H48a8,8,0,0,0,0,16h8v24a8,8,0,0,0,16,0V120h8A8,8,0,0,0,88,112Z"},null,-1),w0=[M0],H0={key:3},$0=a("path",{d:"M112,42a6,6,0,0,0-6,6V66H24A14,14,0,0,0,10,80v96a14,14,0,0,0,14,14h82v18a6,6,0,0,0,12,0V48A6,6,0,0,0,112,42ZM24,178a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h82V178ZM246,80v96a14,14,0,0,1-14,14H144a6,6,0,0,1,0-12h88a2,2,0,0,0,2-2V80a2,2,0,0,0-2-2H144a6,6,0,0,1,0-12h88A14,14,0,0,1,246,80ZM86,112a6,6,0,0,1-6,6H70v26a6,6,0,0,1-12,0V118H48a6,6,0,0,1,0-12H80A6,6,0,0,1,86,112Z"},null,-1),k0=[$0],C0={key:4},x0=a("path",{d:"M112,40a8,8,0,0,0-8,8V64H24A16,16,0,0,0,8,80v96a16,16,0,0,0,16,16h80v16a8,8,0,0,0,16,0V48A8,8,0,0,0,112,40ZM24,176V80h80v96ZM248,80v96a16,16,0,0,1-16,16H144a8,8,0,0,1,0-16h88V80H144a8,8,0,0,1,0-16h88A16,16,0,0,1,248,80ZM88,112a8,8,0,0,1-8,8H72v24a8,8,0,0,1-16,0V120H48a8,8,0,0,1,0-16H80A8,8,0,0,1,88,112Z"},null,-1),b0=[x0],S0={key:5},B0=a("path",{d:"M112,44a4,4,0,0,0-4,4V68H24A12,12,0,0,0,12,80v96a12,12,0,0,0,12,12h84v20a4,4,0,0,0,8,0V48A4,4,0,0,0,112,44ZM24,180a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h84V180ZM244,80v96a12,12,0,0,1-12,12H144a4,4,0,0,1,0-8h88a4,4,0,0,0,4-4V80a4,4,0,0,0-4-4H144a4,4,0,0,1,0-8h88A12,12,0,0,1,244,80ZM84,112a4,4,0,0,1-4,4H68v28a4,4,0,0,1-8,0V116H48a4,4,0,0,1,0-8H80A4,4,0,0,1,84,112Z"},null,-1),P0=[B0],X0={name:"PhTextbox"},I0=C({...X0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(Z){const o=Z,f=d("weight","regular"),r=d("size","1em"),u=d("color","currentColor"),n=d("mirrored",!1),s=h(()=>o.weight??f),c=h(()=>o.size??r),p=h(()=>o.color??u),i=h(()=>o.mirrored!==void 0?o.mirrored?"scale(-1, 1)":void 0:n?"scale(-1, 1)":void 0);return(v,S)=>(e(),t("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:c.value,height:c.value,fill:p.value,transform:i.value},v.$attrs),[x(v.$slots,"default"),s.value==="bold"?(e(),t("g",f0,g0)):s.value==="duotone"?(e(),t("g",_0,V0)):s.value==="fill"?(e(),t("g",y0,w0)):s.value==="light"?(e(),t("g",H0,k0)):s.value==="regular"?(e(),t("g",C0,b0)):s.value==="thin"?(e(),t("g",S0,P0)):g("",!0)],16,h0))}}),D0={key:1},T0={class:"text-2xl font-bold"},z0={class:"text-xl mb-6"},N0={class:"text-xl mb-6"},F0={class:"mt-4"},R0={key:2},j0={class:"text-xl mb-6"},q0={class:"mt-4"},E0={key:3},G0={class:"mt-4"},K0={__name:"ClaimView",setup(Z){const o=B(),f=w(!1),r=w(null),u=P({PCBID:null}),n=w(null);async function s(){f.value=!0,r.value=await E(u.PCBID),f.value=!1}async function c(){const p=await G(u.PCBID);p||window.alert("Failed to takeover!"),p.status==="success"?n.value=!0:n.value=!1,o.userLoaded=!1,o.loadUser()}return(p,i)=>(e(),H(F,null,{default:m(()=>[l(X,null,{default:m(()=>[l(I,{class:"mb-6","use-small":"","even-smaller":""}),r.value?g("",!0):(e(),t(D,{key:0},[l(A,{icon:_(T),title:"Claim an Arcade",main:""},null,8,["icon"]),l(V,{"is-form":"",class:"row-span-2 mb-6",onSubmit:i[1]||(i[1]=z(v=>s(),["prevent"]))},{footer:m(()=>[l(y,{type:"submit",color:"success",label:"Start Claim"}),f.value?(e(),H(N,{key:0,icon:_(R),color:"text-yellow-500",class:"animate animate-spin"},null,8,["icon"])):g("",!0)]),default:m(()=>[i[2]||(i[2]=a("h2",{class:"text-xl mb-6 lg:w-1/2"},[$(" Claim an arcade using a PCBID."),a("br"),$(" You cannot claim the arcade if it has an owner. ")],-1)),l(j,{label:"PCBID",help:"A PCBID from the arcade you're wanting to claim."},{default:m(()=>[l(q,{modelValue:u.PCBID,"onUpdate:modelValue":i[0]||(i[0]=v=>u.PCBID=v),icon:_(I0),name:"cardId",type:"pcbid",placeholder:"XXXXXXXXXXXXXXXXX",minlength:20,maxlength:20,required:""},null,8,["modelValue","icon"])]),_:1})]),_:1,__:[2]})],64)),r.value&&n.value==null?(e(),t("div",D0,[l(A,{icon:_(d0),title:"Confirm Merge",main:""},null,8,["icon"]),l(V,null,{default:m(()=>[a("h2",T0,M(r.value?.arcade?.name),1),a("h3",z0,M(r.value?.arcade?.description),1),a("h2",N0," This arcade has "+M(r.value?.count)+" machine(s). ",1),a("div",F0,[l(y,{color:"success",label:"Start Takeover",onClick:c})])]),_:1})])):g("",!0),n.value==!0?(e(),t("div",R0,[l(A,{icon:_(k),title:"Takeover Results",main:""},null,8,["icon"]),l(V,null,{default:m(()=>[a("h2",j0," ✅ Successfully merged "+M(r.value?.count)+" machines. Yippie! ",1),a("div",q0,[l(y,{color:"success",label:"Go to Arcade",href:`#/arcade/${r.value?.arcade?.id}`},null,8,["href"])])]),_:1})])):g("",!0),n.value==!1?(e(),t("div",E0,[l(A,{icon:_(k),title:"Takeover Results",main:""},null,8,["icon"]),l(V,null,{default:m(()=>[i[3]||(i[3]=a("h2",{class:"text-xl mb-6"},"❌ Failed to takeover. Please try again.",-1)),a("div",G0,[l(y,{color:"warning",label:"Retry",onClick:c})])]),_:1,__:[3]})])):g("",!0)]),_:1})]),_:1}))}};export{K0 as default};
