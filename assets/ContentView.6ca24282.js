import{r as h,o as y,c as a,e as x,w as _,f as d,V as b,g as i,k as r,W as $,ae as I,F as u,l as g,_ as V,j as e,a4 as C,a3 as f,t as p,n as B,p as F,q as P}from"./index.2703a086.js";import{m as U}from"./account.b6f89727.js";const D={class:"md:flex gap-4 items-center pb-6"},N={class:"text-3xl"},G={class:"text-2xl font-light"},L={key:0,class:"w-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 3xl:grid-cols-7 4xl:grid-cols-8 gap-6 place-items-center"},S=["href"],Y=["src"],j={key:1},q={class:"space-y-1 text-center"},A={class:"text-xl xl:text-xl"},W={__name:"ContentView",setup(E){var c=h([]);const v=h(!1);async function k(){c.value=null;try{const s=await U("lpac_upload");c.value=w(s)}catch(s){console.error("Failed to fetch content:",s)}v.value=!1}y(async()=>{await k()});function w(s){var l;s.sort(function(t,o){return o.timestamp-t.timestamp});for(const t of s){const o=f(t.game);if(t.game=o.name,t.version=(l=o.versions.find(n=>n.id==t.version).label)!=null?l:0,t.timestamp){const n=new Date(t.timestamp*1e3);t.timestamp=n.toLocaleString()}}return s}return(s,l)=>(a(),x(P,null,{default:_(()=>[d(F,null,{default:_(()=>[d(b,{class:"mb-6","use-small":"","even-smaller":""}),i(c)?(a(),r(u,{key:0},[d($,{icon:i(I),title:"Your Uploads",main:""},null,8,["icon"]),(a(!0),r(u,null,g(i(c),t=>(a(),x(V,{key:t.timestamp,class:"mb-6"},{default:_(()=>{var o,n;return[e("div",D,[d(C,{path:i(f)(t.game).icon},null,8,["path"]),e("h1",N,p(i(f)(t.game).name),1),e("h1",G,p(t.timestamp),1)]),((o=t.data)==null?void 0:o.status)=="uploaded"?(a(),r("div",L,[(a(!0),r(u,null,g((n=t.data)==null?void 0:n.filelist,m=>(a(),r("div",{key:m.filename,class:"md:hover:scale-[1.1] transition ease-in-out"},[e("a",{href:`https://cdn.phaseii.network/file/PhaseII/${m.b2_path}`,target:"_blank"},[e("img",{class:"w-[200px]",src:`https://cdn.phaseii.network/file/PhaseII/${m.b2_path}`},null,8,Y)],8,S)]))),128))])):(a(),r("div",j,[e("div",q,[l[0]||(l[0]=e("h1",{class:"text-2xl xl:text-4xl font-bold"}," Your content is still uploading! ",-1)),l[1]||(l[1]=e("h2",{class:"text-xl xl:text-2xl font-light"}," Please wait for the upload to complete. ",-1)),e("h2",A," Upload started at "+p(i(c)[0].timestamp),1)])]))]}),_:2},1024))),128))],64)):B("",!0)]),_:1})]),_:1}))}};export{W as default};
