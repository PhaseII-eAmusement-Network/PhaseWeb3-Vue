import{W as P,X as f,Y as v,d as r,a as n,Z as U,e as M,p as t,$ as B,m as z,r as L,o as D,j as R,s as j,c as E,w as u,b as a,_ as F,n as $,f as N,g as w,y as T,O as x,q as _,P as G,F as W,av as O,k as X}from"./index-DMck2IAN.js";import{G as Y}from"./PhPencilCircle.vue-wSf7CIlf.js";import{I as k}from"./PhPlusCircle.vue-BoLpHsre.js";import{_ as J}from"./GeneralTable-B0PZaNgv.js";import{_ as A}from"./FormField-DCfSTPYm.js";import{_ as V}from"./FormControl-CMvO_VZm.js";import{o as K,p as Q,q as e0,r as a0}from"./admin-C_RPc-dH.js";import{_ as l0}from"./BaseButtons-Cr7mbfMX.js";import"./contentExport-D3Qh2LmA.js";const t0=["width","height","fill","transform"],o0={key:0},s0=t("path",{d:"M180,128a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,128Zm56,0A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"},null,-1),n0=[s0],r0={key:1},i0=t("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},null,-1),u0=t("path",{d:"M176,128a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,128Zm56,0A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"},null,-1),d0=[i0,u0],m0={key:2},p0=t("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm40,112H88a8,8,0,0,1,0-16h80a8,8,0,0,1,0,16Z"},null,-1),c0=[p0],f0={key:3},v0=t("path",{d:"M174,128a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,128Zm56,0A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"},null,-1),h0=[v0],g0={key:4},w0=t("path",{d:"M176,128a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,128Zm56,0A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"},null,-1),A0=[w0],V0={key:5},Z0=t("path",{d:"M172,128a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,128Zm56,0A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"},null,-1),y0=[Z0],b0={name:"PhMinusCircle"},C=P({...b0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(b){const d=b,p=f("weight","regular"),c=f("size","1em"),s=f("color","currentColor"),y=f("mirrored",!1),o=v(()=>d.weight??p),h=v(()=>d.size??c),Z=v(()=>d.color??s),m=v(()=>d.mirrored!==void 0?d.mirrored?"scale(-1, 1)":void 0:y?"scale(-1, 1)":void 0);return(g,H)=>(n(),r("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:h.value,height:h.value,fill:Z.value,transform:m.value},g.$attrs),[U(g.$slots,"default"),o.value==="bold"?(n(),r("g",o0,n0)):o.value==="duotone"?(n(),r("g",r0,d0)):o.value==="fill"?(n(),r("g",m0,c0)):o.value==="light"?(n(),r("g",f0,h0)):o.value==="regular"?(n(),r("g",g0,A0)):o.value==="thin"?(n(),r("g",V0,y0)):M("",!0)],16,t0))}}),$0=["width","height","fill","transform"],H0={key:0},L0=t("path",{d:"M216,36H40A20,20,0,0,0,20,56V216a12,12,0,0,0,17.37,10.73L64,213.42l26.63,13.31a12,12,0,0,0,10.74,0L128,213.42l26.63,13.31a12,12,0,0,0,10.74,0L192,213.42l26.63,13.31A12,12,0,0,0,236,216V56A20,20,0,0,0,216,36Zm-4,160.58-14.63-7.31a12,12,0,0,0-10.74,0L160,202.58l-26.63-13.31a12,12,0,0,0-10.74,0L96,202.58,69.37,189.27a12,12,0,0,0-10.74,0L44,196.58V60H212ZM136,108a12,12,0,0,1,12-12h36a12,12,0,0,1,0,24H148A12,12,0,0,1,136,108Zm0,40a12,12,0,0,1,12-12h36a12,12,0,0,1,0,24H148A12,12,0,0,1,136,148ZM72,172h40a12,12,0,0,0,12-12V96a12,12,0,0,0-12-12H72A12,12,0,0,0,60,96v64A12,12,0,0,0,72,172Zm12-64h16v40H84Z"},null,-1),_0=[L0],M0={key:1},N0=t("path",{d:"M216,48H40a8,8,0,0,0-8,8V216l32-16,32,16,32-16,32,16,32-16,32,16V56A8,8,0,0,0,216,48ZM112,160H64V96h48Z",opacity:"0.2"},null,-1),x0=t("path",{d:"M216,40H40A16,16,0,0,0,24,56V216a8,8,0,0,0,11.58,7.15L64,208.94l28.42,14.21a8,8,0,0,0,7.16,0L128,208.94l28.42,14.21a8,8,0,0,0,7.16,0L192,208.94l28.42,14.21A8,8,0,0,0,232,216V56A16,16,0,0,0,216,40Zm0,163.06-20.42-10.22a8,8,0,0,0-7.16,0L160,207.06l-28.42-14.22a8,8,0,0,0-7.16,0L96,207.06,67.58,192.84a8,8,0,0,0-7.16,0L40,203.06V56H216ZM136,112a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H144A8,8,0,0,1,136,112Zm0,32a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H144A8,8,0,0,1,136,144ZM64,168h48a8,8,0,0,0,8-8V96a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8v64A8,8,0,0,0,64,168Zm8-64h32v48H72Z"},null,-1),k0=[N0,x0],C0={key:2},P0=t("path",{d:"M216,40H40A16,16,0,0,0,24,56V216a8,8,0,0,0,11.58,7.15L64,208.94l28.42,14.21a8,8,0,0,0,7.16,0L128,208.94l28.42,14.21a8,8,0,0,0,7.16,0L192,208.94l28.42,14.21A8,8,0,0,0,232,216V56A16,16,0,0,0,216,40ZM116,160a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm76-8H144a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm0-32H144a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Z"},null,-1),U0=[P0],B0={key:3},S0=t("path",{d:"M216,42H40A14,14,0,0,0,26,56V216a6,6,0,0,0,8.68,5.37L64,206.71l29.32,14.66a6,6,0,0,0,5.36,0L128,206.71l29.32,14.66a6,6,0,0,0,5.36,0L192,206.71l29.32,14.66A6,6,0,0,0,224,222a5.93,5.93,0,0,0,3.15-.9A6,6,0,0,0,230,216V56A14,14,0,0,0,216,42Zm2,164.29-23.32-11.66a6,6,0,0,0-5.36,0L160,209.29l-29.32-14.66a6,6,0,0,0-5.36,0L96,209.29,66.68,194.63a6,6,0,0,0-5.36,0L38,206.29V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2ZM198,112a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h48A6,6,0,0,1,198,112Zm0,32a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h48A6,6,0,0,1,198,144ZM112,90H64a6,6,0,0,0-6,6v64a6,6,0,0,0,6,6h48a6,6,0,0,0,6-6V96A6,6,0,0,0,112,90Zm-6,64H70V102h36Z"},null,-1),q0=[S0],I0={key:4},z0=t("path",{d:"M216,40H40A16,16,0,0,0,24,56V216a8,8,0,0,0,11.58,7.15L64,208.94l28.42,14.21a8,8,0,0,0,7.16,0L128,208.94l28.42,14.21a8,8,0,0,0,7.16,0L192,208.94l28.42,14.21A8,8,0,0,0,232,216V56A16,16,0,0,0,216,40Zm0,163.06-20.42-10.22a8,8,0,0,0-7.16,0L160,207.06l-28.42-14.22a8,8,0,0,0-7.16,0L96,207.06,67.58,192.84a8,8,0,0,0-7.16,0L40,203.06V56H216ZM136,112a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H144A8,8,0,0,1,136,112Zm0,32a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H144A8,8,0,0,1,136,144ZM64,168h48a8,8,0,0,0,8-8V96a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8v64A8,8,0,0,0,64,168Zm8-64h32v48H72Z"},null,-1),D0=[z0],R0={key:5},j0=t("path",{d:"M216,44H40A12,12,0,0,0,28,56V216a4,4,0,0,0,5.79,3.58L64,204.47l30.21,15.11a4,4,0,0,0,3.58,0L128,204.47l30.21,15.11a4,4,0,0,0,3.58,0L192,204.47l30.21,15.11A4.05,4.05,0,0,0,224,220a4,4,0,0,0,4-4V56A12,12,0,0,0,216,44Zm4,165.53-26.21-13.11a4,4,0,0,0-3.58,0L160,211.53l-30.21-15.11a4,4,0,0,0-3.58,0L96,211.53,65.79,196.42a4,4,0,0,0-3.58,0L36,209.53V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4ZM196,112a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h48A4,4,0,0,1,196,112Zm0,32a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h48A4,4,0,0,1,196,144ZM112,92H64a4,4,0,0,0-4,4v64a4,4,0,0,0,4,4h48a4,4,0,0,0,4-4V96A4,4,0,0,0,112,92Zm-4,64H68V100h40Z"},null,-1),E0=[j0],F0={name:"PhNewspaperClipping"},T0=P({...F0,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(b){const d=b,p=f("weight","regular"),c=f("size","1em"),s=f("color","currentColor"),y=f("mirrored",!1),o=v(()=>d.weight??p),h=v(()=>d.size??c),Z=v(()=>d.color??s),m=v(()=>d.mirrored!==void 0?d.mirrored?"scale(-1, 1)":void 0:y?"scale(-1, 1)":void 0);return(g,H)=>(n(),r("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:h.value,height:h.value,fill:Z.value,transform:m.value},g.$attrs),[U(g.$slots,"default"),o.value==="bold"?(n(),r("g",H0,_0)):o.value==="duotone"?(n(),r("g",M0,k0)):o.value==="fill"?(n(),r("g",C0,U0)):o.value==="light"?(n(),r("g",B0,q0)):o.value==="regular"?(n(),r("g",I0,D0)):o.value==="thin"?(n(),r("g",R0,E0)):M("",!0)],16,$0))}}),G0={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},W0={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},O0={class:"w-full"},o1={__name:"NewsView",setup(b){const d=z(),p=L([]),c=L(null),s=L(null),y=[{text:"Timestamp",value:"timestamp",width:150,sortable:!0},{text:"Title",value:"title",width:150,sortable:!0},{text:"Body",value:"body",width:300},{text:"Image URL",value:"data.img",width:300}];D(async()=>{o()});async function o(){try{const l=await K();var i=[];for(var e of l)e.timestamp&&(e.timestamp=R(e.timestamp)),i.push(e);p.value=i}catch(l){console.error("Failed to fetch news data:",l)}}const h=i=>{const e=i.id;d.push(`/news/${e}`)},Z={title:null,body:null,data:{img:null}},m=j({...Z});async function g(){try{const i=await Q(m);p.value=i}catch(i){console.error("Failed to post news:",i)}Object.assign(m,Z),o()}async function H(){s.value&&(await e0(c.value,s.value),s.value=null,c.value=null,o())}async function S(){s.value&&(await a0(s.value.id),s.value=null,c.value=null,o())}function q(i){var e=[];for(const l of i)e.push({id:l.id,label:l.title});return e}function I(i){return!i||!p.value?null:(s.value=p.value?.find(e=>e.id===i),!0)}return(i,e)=>(n(),E(X,null,{default:u(()=>[a(F,null,{default:u(()=>[a($,{class:"mb-6 p-1"},{default:u(()=>e[10]||(e[10]=[t("h1",{class:"text-3xl"},"News Management",-1),t("p",{class:"text-sm text-gray-400"},"Enter an post to read it",-1)])),_:1,__:[10]}),a(N,{icon:w(T0),title:"Post Management",color:"text-emerald-600",main:""},null,8,["icon"]),t("div",G0,[a($,{"is-form":"",class:"row-span-1 mb-6",onSubmit:e[3]||(e[3]=T(l=>g(),["prevent"]))},{default:u(()=>[a(x,{color:"success",label:"Create Post",icon:w(k),class:"mb-2"},null,8,["icon"]),a(A,{label:"Title",help:"News headline."},{default:u(()=>[a(V,{modelValue:m.title,"onUpdate:modelValue":e[0]||(e[0]=l=>m.title=l),required:""},null,8,["modelValue"])]),_:1}),a(A,{label:"Body",help:"News body."},{default:u(()=>[a(V,{modelValue:m.body,"onUpdate:modelValue":e[1]||(e[1]=l=>m.body=l),required:"",type:"textarea"},null,8,["modelValue"])]),_:1}),a(A,{label:"Image URL",help:"News image URL."},{default:u(()=>[a(V,{modelValue:m.data.img,"onUpdate:modelValue":e[2]||(e[2]=l=>m.data.img=l),required:""},null,8,["modelValue"])]),_:1}),t("div",null,[a(_,{type:"submit",color:"success",label:"Create",small:!1,icon:w(k)},null,8,["icon"])])]),_:1}),a($,{"is-form":"",class:"row-span-1 mb-6"},{default:u(()=>[a(x,{color:"warning",label:"Edit Post",icon:w(C),class:"mb-2"},null,8,["icon"]),a(A,{label:"Post"},{default:u(()=>[a(V,{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=l=>c.value=l),name:"news",options:q(p.value),required:""},null,8,["modelValue","options"])]),_:1}),a(G),I(c.value)?(n(),r(W,{key:0},[a(A,{label:"Title",help:"News headline."},{default:u(()=>[a(V,{modelValue:s.value.title,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.title=l),required:""},null,8,["modelValue"])]),_:1}),a(A,{label:"Body",help:"News body."},{default:u(()=>[a(V,{modelValue:s.value.body,"onUpdate:modelValue":e[6]||(e[6]=l=>s.value.body=l),required:"",type:"textarea"},null,8,["modelValue"])]),_:1}),a(A,{label:"Image URL",help:"News image URL."},{default:u(()=>[a(V,{modelValue:s.value.data.img,"onUpdate:modelValue":e[7]||(e[7]=l=>s.value.data.img=l),required:""},null,8,["modelValue"])]),_:1}),a(l0,null,{default:u(()=>[a(_,{color:"info",label:"Update",small:!1,icon:w(Y),onClick:e[8]||(e[8]=l=>H())},null,8,["icon"]),a(_,{color:"danger",label:"Delete Post",small:!1,icon:w(C),onClick:e[9]||(e[9]=l=>S())},null,8,["icon"])]),_:1})],64)):M("",!0)]),_:1})]),a(N,{icon:w(O),title:"All News",color:"text-blue-400",main:""},null,8,["icon"]),a($,{"has-table":"",class:"mb-6"},{default:u(()=>[t("div",W0,[t("div",O0,[a(J,{headers:y,items:p.value,onRowClicked:h},null,8,["items"]),e[11]||(e[11]=t("h1",{class:"mx-4 mt-1 mb-2 text-md lg:text-lg"}," Click row to open arcade ",-1))])])]),_:1})]),_:1})]),_:1}))}};export{o1 as default};
