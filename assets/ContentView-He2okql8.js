import{r as h,o as y,c as x,e as l,w as m,f as c,_ as b,l as n,g as $,O as I,i,F as _,P as C,ai as P,m as g,j as V,k as s,a7 as B,a6 as u,t as f,q as F,aj as U}from"./index-DdOAy-ci.js";const D={class:"md:flex gap-4 items-center pb-6"},N={class:"text-3xl"},j={class:"text-2xl font-light"},G={key:0,class:"w-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 3xl:grid-cols-7 4xl:grid-cols-8 gap-6 place-items-center"},L=["href"],O=["src"],S={key:1},Y={class:"space-y-1 text-center"},q={class:"text-xl xl:text-xl"},M={__name:"ContentView",setup(A){var r=h([]);const v=h(!1);async function k(){r.value=null;try{const a=await U("lpac_upload");r.value=w(a)}catch(a){console.error("Failed to fetch content:",a)}v.value=!1}y(async()=>{await k()});function w(a){a.sort(function(t,e){return e.timestamp-t.timestamp});for(const t of a){const e=u(t.game);if(t.game=e.name,t.version=e.versions.find(o=>o.id==t.version).label??0,t.timestamp){const o=new Date(t.timestamp*1e3);t.timestamp=o.toLocaleString()}}return a}return(a,t)=>(l(),x(F,null,{default:m(()=>[c(b,null,{default:m(()=>[c(I,{class:"mb-6","use-small":"","even-smaller":""}),i(r)?(l(),n(_,{key:0},[c(C,{icon:i(P),title:"Your Uploads",main:""},null,8,["icon"]),(l(!0),n(_,null,g(i(r),e=>(l(),x(V,{key:e.timestamp,class:"mb-6"},{default:m(()=>{var o,p;return[s("div",D,[c(B,{path:i(u)(e.game).icon},null,8,["path"]),s("h1",N,f(i(u)(e.game).name),1),s("h1",j,f(e.timestamp),1)]),((o=e.data)==null?void 0:o.status)=="uploaded"?(l(),n("div",G,[(l(!0),n(_,null,g((p=e.data)==null?void 0:p.filelist,d=>(l(),n("div",{key:d.filename,class:"md:hover:scale-[1.1] transition ease-in-out"},[s("a",{href:`https://cdn.phaseii.network/file/PhaseII/${d.b2_path}`,target:"_blank"},[s("img",{class:"w-[200px]",src:`https://cdn.phaseii.network/file/PhaseII/${d.b2_path}`},null,8,O)],8,L)]))),128))])):(l(),n("div",S,[s("div",Y,[t[0]||(t[0]=s("h1",{class:"text-2xl xl:text-4xl font-bold"}," Your content is still uploading! ",-1)),t[1]||(t[1]=s("h2",{class:"text-xl xl:text-2xl font-light"}," Please wait for the upload to complete. ",-1)),s("h2",q," Upload started at "+f(i(r)[0].timestamp),1)])]))]}),_:2},1024))),128))],64)):$("",!0)]),_:1})]),_:1}))}};export{M as default};
