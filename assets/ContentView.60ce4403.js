import{r as h,o as y,a,c as x,w as _,b as r,W as b,e as n,i,X as $,ad as I,F as u,j as g,_ as C,g as e,a5 as V,a4 as f,t as p,k as B,l as F,n as P}from"./index.47c5ba17.js";import{m as U}from"./account.d6e892e3.js";const D={class:"md:flex gap-4 items-center pb-6"},N={class:"text-3xl"},G={class:"text-2xl font-light"},L={key:0,class:"w-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 3xl:grid-cols-7 4xl:grid-cols-8 gap-6 place-items-center"},S=["href"],Y=["src"],j={key:1},A={class:"space-y-1 text-center"},E=e("h1",{class:"text-2xl xl:text-4xl font-bold"}," Your content is still uploading! ",-1),M=e("h2",{class:"text-xl xl:text-2xl font-light"}," Please wait for the upload to complete. ",-1),O={class:"text-xl xl:text-xl"},z={__name:"ContentView",setup(W){var c=h([]);const v=h(!1);async function k(){c.value=null;try{const s=await U("lpac_upload");c.value=w(s)}catch(s){console.error("Failed to fetch content:",s)}v.value=!1}y(async()=>{await k()});function w(s){var d;s.sort(function(t,l){return l.timestamp-t.timestamp});for(const t of s){const l=f(t.game);if(t.game=l.name,t.version=(d=l.versions.find(o=>o.id==t.version).label)!=null?d:0,t.timestamp){const o=new Date(t.timestamp*1e3);t.timestamp=o.toLocaleString()}}return s}return(s,d)=>(a(),x(P,null,{default:_(()=>[r(F,null,{default:_(()=>[r(b,{class:"mb-6","use-small":"","even-smaller":""}),n(c)?(a(),i(u,{key:0},[r($,{icon:n(I),title:"Your Uploads",main:""},null,8,["icon"]),(a(!0),i(u,null,g(n(c),t=>(a(),x(C,{key:t.timestamp,class:"mb-6"},{default:_(()=>{var l,o;return[e("div",D,[r(V,{path:n(f)(t.game).icon},null,8,["path"]),e("h1",N,p(n(f)(t.game).name),1),e("h1",G,p(t.timestamp),1)]),((l=t.data)==null?void 0:l.status)=="uploaded"?(a(),i("div",L,[(a(!0),i(u,null,g((o=t.data)==null?void 0:o.filelist,m=>(a(),i("div",{key:m.filename,class:"md:hover:scale-[1.1] transition ease-in-out"},[e("a",{href:`https://cdn.phaseii.network/file/PhaseII/${m.b2_path}`,target:"_blank"},[e("img",{class:"w-[200px]",src:`https://cdn.phaseii.network/file/PhaseII/${m.b2_path}`},null,8,Y)],8,S)]))),128))])):(a(),i("div",j,[e("div",A,[E,M,e("h2",O," Upload started at "+p(n(c)[0].timestamp),1)])]))]}),_:2},1024))),128))],64)):B("",!0)]),_:1})]),_:1}))}};export{z as default};
