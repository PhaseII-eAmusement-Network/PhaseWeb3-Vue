import{m as V,r as v,s as _,c as p,a as c,w as r,p as a,b as s,n as I,x as y,y as X,g as t,G as P,e as $,q as f,z as U,B as C}from"./index-e9Wx1hVk.js";import{I as q}from"./PhAt.vue-BsMVRkcf.js";import{I as h}from"./PhCreditCard.vue-D8qPLz-v.js";import{G as u}from"./PhPassword.vue-pRwbl9F7.js";import{I as A}from"./PhSpinnerBall.vue-DQyp6Aad.js";import{_ as R}from"./FormCheckRadio-Dzn-SR7k.js";import{_ as n}from"./FormField-3Z5l1yxb.js";import{_ as m}from"./FormControl-YTXPOXsH.js";import{_ as k}from"./LayoutGuest-Cv4XA9v4.js";const B={class:"flex md:min-h-screen md:items-center md:justify-center"},G={class:"p-4 flex flex-col md:flex-row w-full space-y-2 md:space-y-0 md:space-x-4"},N={class:"flex gap-2 mt-4"},S={class:"col-span-2"},D={class:"flex flex-col gap-2 my-4"},J={__name:"RegisterView",setup(E){const w=V(),i=v(!1),l=_({username:"",email:"",newPassword:"",confirmPassword:"",pin:"",cardId:"",remember:!0});function g(d){var e=d.target.value;e=e.replace(/[^0-9]/g,""),l.pin=e}function b(d){var e=d.target.value;e=e.replace(/[^A-Za-z0-9]/g,""),e=e.toUpperCase().replace(/(.{4})/g,"$1-").replace(/-$/,""),l.cardId=e}async function x(){i.value=!0,(await C(l)).status=="success"&&(i.value=!1,alert("User account registered. Please log in!"),w.push("login"))}return(d,e)=>(c(),p(k,null,{default:r(()=>[a("div",B,[s(I,{class:"w-full md:w-auto rounded-none md:rounded-xl md:drop-shadow-xl","has-table":"","is-auth":""},{default:r(()=>[a("div",G,[e[10]||(e[10]=a("div",{class:"flex flex-col items-center text-wrap h-full md:mt-5"},[a("img",{src:y,class:"rounded-full shadow-lg mb-2"}),a("h1",{class:"text-xl"},[a("samp",null,"PhaseII")]),a("p",{class:"text-sm text-gray-700 dark:text-white/75"}," Spinnin' since 2021 "),a("hr",{class:"border-t border my-1 w-full"}),a("p",{class:"text-lg relative bottom-0"},"Account Registration")],-1)),e[11]||(e[11]=a("div",{class:"md:border-r md:border"},null,-1)),a("div",null,[a("form",{class:"grid grid-cols-2 gap-x-2",onSubmit:e[7]||(e[7]=X(o=>x(),["prevent"]))},[s(n,{label:"Desired Username"},{default:r(()=>[s(m,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=o=>l.username=o),icon:t(P),name:"username",required:"",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Email Address"},{default:r(()=>[s(m,{modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=o=>l.email=o),icon:t(q),type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Password"},{default:r(()=>[s(m,{modelValue:l.newPassword,"onUpdate:modelValue":e[2]||(e[2]=o=>l.newPassword=o),icon:t(u),name:"newPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Password Confirmation"},{default:r(()=>[s(m,{modelValue:l.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>l.confirmPassword=o),icon:t(u),name:"confirmPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Card ID",help:"The ACCESS CODE provided by the game."},{default:r(()=>[s(m,{modelValue:l.cardId,"onUpdate:modelValue":e[4]||(e[4]=o=>l.cardId=o),icon:t(h),name:"cardId",type:"card",placeholder:"XXXX-XXXX-XXXX-XXXX",minlength:19,maxlength:19,required:"",onInput:b},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Game PIN"},{default:r(()=>[s(m,{modelValue:l.pin,"onUpdate:modelValue":e[5]||(e[5]=o=>l.pin=o),icon:t(u),type:"password",name:"pin",required:"",minlength:4,maxlength:4,inputmode:"numeric",pattern:"\\d{4}",autocomplete:"pin",onInput:g},null,8,["modelValue","icon"])]),_:1}),s(R,{modelValue:l.remember,"onUpdate:modelValue":e[6]||(e[6]=o=>l.remember=o),class:"col-span-2",name:"remember",label:"Remember Me","input-value":!0},null,8,["modelValue"]),a("div",N,[s(f,{type:"submit",label:"Register",color:"success"}),i.value?(c(),p(U,{key:0,icon:t(A),color:"text-yellow-500",class:"animate animate-spin"},null,8,["icon"])):$("",!0)])],32),a("div",S,[e[9]||(e[9]=a("hr",{class:"border-t border my-4 w-full"},null,-1)),a("div",D,[e[8]||(e[8]=a("h2",null,"Have an Account?",-1)),s(f,{label:"Log In",color:"info",to:"/auth/login"})])])])])]),_:1})])]),_:1}))}};export{J as default};
