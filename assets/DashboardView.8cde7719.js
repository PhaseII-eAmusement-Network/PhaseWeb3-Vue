import{r as C,o as T,a as S,c as j,w as o,b as e,i as G,_ as d,W as u,e as m,a9 as H,g as n,aa as s,ab as $,F as W,k as M,l as U,n as q}from"./index.11ec58c8.js";import{_ as E}from"./GeneralTable.ea4680c8.js";import{A as z}from"./admin.452cc70e.js";const J=n("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),K=n("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1),O={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},Q={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},X={class:"w-full"},Y={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},Z={class:"w-full"},le={__name:"DashboardView",setup(ee){const a=C({}),b=C(!0);T(async()=>{try{const l=await z();a.value=l,b.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const N=[{text:"Timestamp",value:"timestamp",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],V=[{text:"Timestamp",value:"timestamp",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function F(l){var i=[];for(var t of l)if(t.type=="paseli_transaction"){if(t.timestamp){const r=new Date(t.timestamp*1e3);t.timestamp=r.toLocaleString()}i.push(t)}return i}function L(l){var i=[];for(var t of l)if(t.type=="pcbevent"){if(t.timestamp){const r=new Date(t.timestamp*1e3);t.timestamp=r.toLocaleString()}i.push(t)}return i}return(l,i)=>(S(),j(q,null,{default:o(()=>[e(U,null,{default:o(()=>{var t,r,v,_,f,h,p,g,x,w,k,A,y,D,I,P,B,R;return[b.value?M("",!0):(S(),G(W,{key:0},[e(d,{class:"mb-6 p-1"},{default:o(()=>[J,K]),_:1}),e(u,{icon:m(H),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),n("div",O,[e(s,{number:(r=(t=a.value)==null?void 0:t.statistics)==null?void 0:r.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:(_=(v=a.value)==null?void 0:v.statistics)==null?void 0:_.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:(h=(f=a.value)==null?void 0:f.statistics)==null?void 0:h.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:(g=(p=a.value)==null?void 0:p.statistics)==null?void 0:g.link,label:"Rivals"},null,8,["number"]),e(s,{number:(w=(x=a.value)==null?void 0:x.statistics)==null?void 0:w.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:(A=(k=a.value)==null?void 0:k.statistics)==null?void 0:A.score,label:"Published Scores"},null,8,["number"]),e(s,{number:(D=(y=a.value)==null?void 0:y.statistics)==null?void 0:D.score_history,label:"Score Attempts"},null,8,["number"]),e(s,{number:(P=(I=a.value)==null?void 0:I.statistics)==null?void 0:P.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:(R=(B=a.value)==null?void 0:B.statistics)==null?void 0:R.audit,label:"Recent Event Logs"},null,8,["number"])]),e(u,{icon:m($),title:"Recent PCB Events"},null,8,["icon"]),e(d,{"has-table":""},{default:o(()=>{var c;return[n("div",Q,[n("div",X,[e(E,{headers:N,items:L((c=a.value)==null?void 0:c.audit)},null,8,["items"])])])]}),_:1}),e(u,{icon:m($),title:"Recent PASELI Transactions"},null,8,["icon"]),e(d,{"has-table":""},{default:o(()=>{var c;return[n("div",Y,[n("div",Z,[e(E,{headers:V,items:F((c=a.value)==null?void 0:c.audit)},null,8,["items"])])])]}),_:1})],64))]}),_:1})]),_:1}))}};export{le as default};
