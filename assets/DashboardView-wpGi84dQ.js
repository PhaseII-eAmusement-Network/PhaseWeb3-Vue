import{r as b,o as w,c as y,d as f,w as r,e,_ as k,j as A,f as P,F as D,i,h as o,P as u,g as c,ay as I,ap as s,az as v,n as B}from"./index-BfIWj8y-.js";import{_ as h}from"./GeneralTable-hdJeyqHo.js";import{b as R}from"./admin-BaoK9ueM.js";const C={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},S={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},$={class:"w-full"},E={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},N={class:"w-full"},j={__name:"DashboardView",setup(V){const a=b({}),m=b(!0);w(async()=>{try{const l=await R();a.value=l,m.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const _=[{text:"Timestamp",value:"date",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],p=[{text:"Timestamp",value:"date",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function g(l){var n=[];for(var t of l)if(t.type=="paseli_transaction"){if(t.timestamp){const d=new Date(t.timestamp*1e3);t.date=d.toLocaleString()}n.push(t)}return n}function x(l){var n=[];for(var t of l)if(t.type=="pcbevent"){if(t.timestamp){const d=new Date(t.timestamp*1e3);t.date=d.toLocaleString()}n.push(t)}return n}return(l,n)=>(f(),y(B,null,{default:r(()=>[e(k,null,{default:r(()=>[m.value?P("",!0):(f(),A(D,{key:0},[e(o,{class:"mb-6 p-1"},{default:r(()=>n[0]||(n[0]=[i("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),i("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1)])),_:1,__:[0]}),e(u,{icon:c(I),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),i("div",C,[e(s,{number:a.value?.statistics?.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:a.value?.statistics?.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:a.value?.statistics?.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:a.value?.statistics?.link,label:"Rivals"},null,8,["number"]),e(s,{number:a.value?.statistics?.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:a.value?.statistics?.score,label:"Published Scores"},null,8,["number"]),e(s,{number:a.value?.statistics?.score_history,label:"Score Attempts"},null,8,["number"]),e(s,{number:a.value?.statistics?.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:a.value?.statistics?.audit,label:"Recent Event Logs"},null,8,["number"])]),e(u,{icon:c(v),title:"Recent PCB Events"},null,8,["icon"]),e(o,{"has-table":""},{default:r(()=>[i("div",S,[i("div",$,[e(h,{headers:_,items:x(a.value?.audit)},null,8,["items"])])])]),_:1}),e(u,{icon:c(v),title:"Recent PASELI Transactions"},null,8,["icon"]),e(o,{"has-table":""},{default:r(()=>[i("div",E,[i("div",N,[e(h,{headers:p,items:g(a.value?.audit)},null,8,["items"])])])]),_:1})],64))]),_:1})]),_:1}))}};export{j as default};
