import{r as C,o as T,c as j,d as N,w as o,e,_ as G,j as H,f as M,F as U,i,h as u,N as c,g as m,as as W,ak as s,at as S,n as q}from"./index-vA9N45XP.js";import{_ as $}from"./GeneralTable-7ScsFktP.js";import{A as z}from"./admin-DLWnlEF3.js";const J={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},K={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},O={class:"w-full"},Q={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},X={class:"w-full"},ae={__name:"DashboardView",setup(Y){const a=C({}),b=C(!0);T(async()=>{try{const l=await z();a.value=l,b.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const E=[{text:"Timestamp",value:"date",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],V=[{text:"Timestamp",value:"date",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function F(l){var n=[];for(var t of l)if(t.type=="paseli_transaction"){if(t.timestamp){const r=new Date(t.timestamp*1e3);t.date=r.toLocaleString()}n.push(t)}return n}function L(l){var n=[];for(var t of l)if(t.type=="pcbevent"){if(t.timestamp){const r=new Date(t.timestamp*1e3);t.date=r.toLocaleString()}n.push(t)}return n}return(l,n)=>(N(),j(q,null,{default:o(()=>[e(G,null,{default:o(()=>{var t,r,f,v,h,_,p,g,x,w,k,A,y,D,I,P,B,R;return[b.value?M("",!0):(N(),H(U,{key:0},[e(u,{class:"mb-6 p-1"},{default:o(()=>n[0]||(n[0]=[i("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),i("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1)])),_:1}),e(c,{icon:m(W),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),i("div",J,[e(s,{number:(r=(t=a.value)==null?void 0:t.statistics)==null?void 0:r.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:(v=(f=a.value)==null?void 0:f.statistics)==null?void 0:v.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:(_=(h=a.value)==null?void 0:h.statistics)==null?void 0:_.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:(g=(p=a.value)==null?void 0:p.statistics)==null?void 0:g.link,label:"Rivals"},null,8,["number"]),e(s,{number:(w=(x=a.value)==null?void 0:x.statistics)==null?void 0:w.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:(A=(k=a.value)==null?void 0:k.statistics)==null?void 0:A.score,label:"Published Scores"},null,8,["number"]),e(s,{number:(D=(y=a.value)==null?void 0:y.statistics)==null?void 0:D.score_history,label:"Score Attempts"},null,8,["number"]),e(s,{number:(P=(I=a.value)==null?void 0:I.statistics)==null?void 0:P.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:(R=(B=a.value)==null?void 0:B.statistics)==null?void 0:R.audit,label:"Recent Event Logs"},null,8,["number"])]),e(c,{icon:m(S),title:"Recent PCB Events"},null,8,["icon"]),e(u,{"has-table":""},{default:o(()=>{var d;return[i("div",K,[i("div",O,[e($,{headers:E,items:L((d=a.value)==null?void 0:d.audit)},null,8,["items"])])])]}),_:1}),e(c,{icon:m(S),title:"Recent PASELI Transactions"},null,8,["icon"]),e(u,{"has-table":""},{default:o(()=>{var d;return[i("div",Q,[i("div",X,[e($,{headers:V,items:F((d=a.value)==null?void 0:d.audit)},null,8,["items"])])])]}),_:1})],64))]}),_:1})]),_:1}))}};export{ae as default};
