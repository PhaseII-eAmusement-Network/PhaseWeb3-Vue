import{r as m,o as w,c as k,a as b,w as r,b as e,_ as I,d as y,e as A,F as P,p as i,n as d,f as o,g as u,ar as B,ak as s,k as D,j as f}from"./index-DMck2IAN.js";import{I as v}from"./PhFlagCheckered.vue-DBulGj_m.js";import{_}from"./GeneralTable-B0PZaNgv.js";import{b as R}from"./admin-C_RPc-dH.js";import"./contentExport-D3Qh2LmA.js";const C={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},$={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},E={class:"w-full"},N={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},V={class:"w-full"},L={__name:"DashboardView",setup(S){const a=m({}),c=m(!0);w(async()=>{try{const l=await R();a.value=l,c.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const h=[{text:"Timestamp",value:"date",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],p=[{text:"Timestamp",value:"date",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function x(l){var n=[];for(var t of l)t.type=="paseli_transaction"&&(t.timestamp&&(t.date=f(t.timestamp)),n.push(t));return n}function g(l){var n=[];for(var t of l)t.type=="pcbevent"&&(t.timestamp&&(t.date=f(t.timestamp)),n.push(t));return n}return(l,n)=>(b(),k(D,null,{default:r(()=>[e(I,null,{default:r(()=>[c.value?A("",!0):(b(),y(P,{key:0},[e(d,{class:"mb-6 p-1"},{default:r(()=>n[0]||(n[0]=[i("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),i("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1)])),_:1,__:[0]}),e(o,{icon:u(B),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),i("div",C,[e(s,{number:a.value?.statistics?.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:a.value?.statistics?.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:a.value?.statistics?.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:a.value?.statistics?.link,label:"Rivals"},null,8,["number"]),e(s,{number:a.value?.statistics?.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:a.value?.statistics?.score,label:"Published Scores"},null,8,["number"]),e(s,{number:a.value?.statistics?.score_history,label:"Scores"},null,8,["number"]),e(s,{number:a.value?.statistics?.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:a.value?.statistics?.audit,label:"Recent Event Logs"},null,8,["number"])]),e(o,{icon:u(v),main:"",title:"Recent PCB Events"},null,8,["icon"]),e(d,{"has-table":"",class:"mb-6"},{default:r(()=>[i("div",$,[i("div",E,[e(_,{headers:h,items:g(a.value?.audit)},null,8,["items"])])])]),_:1}),e(o,{icon:u(v),main:"",title:"Recent PASELI Transactions"},null,8,["icon"]),e(d,{"has-table":""},{default:r(()=>[i("div",N,[i("div",V,[e(_,{headers:p,items:x(a.value?.audit)},null,8,["items"])])])]),_:1})],64))]),_:1})]),_:1}))}};export{L as default};
