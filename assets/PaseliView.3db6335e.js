import{r as i,o as y,a as d,c as P,w as l,b as e,i as I,X as m,e as f,au as S,_,g as n,ao as k,F as B,k as $,l as E,n as L,p as N}from"./index.a789701d.js";import{_ as v}from"./GeneralTable.2b6f1d08.js";import{_ as C}from"./ArcadeCard.448053d9.js";import{A as F,c as R}from"./arcade.5d1aa285.js";const T={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},V={class:"w-full"},D={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},H={class:"w-full"},X={__name:"PaseliView",setup(j){const c=i({}),t=i({}),r=i(!0),h=N(),u=parseInt(h.params.id);async function p(){try{c.value=null;const a=await F(u);c.value=a,r.value=!1}catch(a){console.error("Failed to fetch arcade data:",a)}}async function w(){try{t.value=null;const a=await R(u);t.value=a,r.value=!1}catch(a){console.error("Failed to fetch arcade PASELI:",a)}}y(()=>{p(),w()});const b=[{text:"Timestamp",value:"timestamp",width:200},{text:"Amount",value:"data.delta",width:200},{text:"Remaining Balance",value:"data.balance",width:200},{text:"Reason",value:"data.reason",width:200}],g=[{text:"Player",value:"username"},{text:"Balance",value:"balance"}];function x(a){var o=[];for(var s of JSON.parse(JSON.stringify(a))){if(s.timestamp){const A=new Date(s.timestamp*1e3);s.timestamp=A.toLocaleString()}o.push(s)}return o}return(a,o)=>(d(),P(L,null,{default:l(()=>[e(E,null,{default:l(()=>[!r.value&&t.value.balances&&t.value.transactions?(d(),I(B,{key:0},[e(C,{class:"mb-6",arcade:c.value,"use-small":!0},null,8,["arcade"]),e(m,{icon:f(S),title:"Player PASELI Balances",main:""},null,8,["icon"]),e(_,{"has-table":""},{default:l(()=>[n("div",T,[n("div",V,[e(v,{headers:g,items:t.value.balances},null,8,["items"])])])]),_:1}),e(m,{icon:f(k),title:"PASELI Transaction History",main:"",class:"pt-6"},null,8,["icon"]),e(_,{"has-table":""},{default:l(()=>[n("div",D,[n("div",H,[e(v,{headers:b,items:x(t.value.transactions)},null,8,["items"])])])]),_:1})],64)):$("",!0)]),_:1})]),_:1}))}};export{X as default};
