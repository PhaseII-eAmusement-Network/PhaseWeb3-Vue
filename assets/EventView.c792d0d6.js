import{r as c,o as U,s as w,N as O,a as l,c as r,w as d,b as s,i as p,X as F,e as P,aq as j,_ as D,g as i,k as m,V as L,t as M,F as V,j as T,f as W,l as X,n as q,p as Q,au as _,av as R}from"./index.c51aed58.js";import{_ as z}from"./ArcadeCard.0d072e4b.js";import{_ as y}from"./FormField.317d97da.js";import{_ as v}from"./FormControl.d47e4637.js";import{_ as H}from"./FormCheckRadio.eebfcc63.js";import{g as J,s as S}from"./values.1bd6ac4a.js";import{A as K}from"./arcade.729b943c.js";const Y={class:"mb-4"},Z={class:"grid md:grid-cols-2 gap-4"},ee=i("p",{class:"pb-2 text-lg"},"Game",-1),ae={key:0},te=i("p",{class:"pb-2 text-lg"},"Version",-1),oe={key:0},ne={class:"text-xl"},le=i("hr",{class:"pb-1 my-2"},null,-1),ve={__name:"EventView",setup(se){const g=c(null),h=c(null),u=c(null),b=c(!0),k=Q(),I=parseInt(k.params.id);var $=[{id:"data.paseli_enabled",name:"PASELI Enabled.",help:"Enable PASELI for this arcade.",type:"Boolean"}];async function x(){try{u.value=null,g.value={},h.value={};const t=await K(I);u.value=t;for(const a of $){const e=J(u.value,a.id);S(g.value,a.id,e),S(h.value,a.id,e)}b.value=!1}catch(t){console.error("Failed to fetch arcade data:",t)}}U(()=>{x()});const f=[{id:"iidx",versions:[{id:22,settings:[{id:0,keyId:"coke",type:Boolean,name:"Enable Coke-X-BEMANI",tooltip:"Enables the long forgotten Coca-Cola event.",value:!0},{id:1,keyId:"phase",type:Array,name:"Current BOSS Phase",tooltip:"Set the main game event.",options:[{id:0,label:"No Event"},{id:1,label:"Chrono Seeker"},{id:2,label:"QPronicle Chord"}],value:1}]}]},{id:"dm",versions:[{id:18,settings:[{id:0,keyId:"banner",type:String,name:"Title Screen Banner",tooltip:"Set the text for the banner.",value:""}]},{id:17,settings:[{id:0,keyId:"banner",type:String,name:"Title Screen Banner",tooltip:"Set the text for the banner.",value:""}]}]}],o=w({game:null,version:null});function B(){var t=[];for(const a of R)f.find(n=>n.id==a.id)&&t.push(a.id);return t}function E(){var t=[];const a=B();for(const e of a)t.push({id:e,label:_(e).name});return t}function N(){const t=f.find(e=>e.id==o.game);var a=[];for(const e of t.versions){const n=_(o.game).versions.find(C=>C.id==e.id);a.push({id:e.id,label:n.label})}return a}function G(){return f.find(a=>a.id==o.game).versions.find(a=>a.id==o.version)}function A(){const t=_(o.game),a=t.versions.find(e=>e.id==o.version);return`${t.name} ${a.label}`}return O(()=>o.game,()=>{o.version=null}),(t,a)=>(l(),r(q,null,{default:d(()=>[s(X,null,{default:d(()=>[b.value?m("",!0):(l(),p(V,{key:0},[s(z,{class:"mb-6",arcade:u.value,"use-small":!0},null,8,["arcade"]),s(F,{icon:P(j),title:"Game Event Settings",main:""},null,8,["icon"]),s(D,{class:"mb-6"},{default:d(()=>[i("div",Y,[s(y,{label:"Select Game",help:"Pick a game and version to get started."},{default:d(()=>[i("div",Z,[i("div",null,[ee,s(v,{modelValue:o.game,"onUpdate:modelValue":a[0]||(a[0]=e=>o.game=e),name:"game",options:E()},null,8,["modelValue","options"])]),o.game?(l(),p("div",ae,[te,s(v,{modelValue:o.version,"onUpdate:modelValue":a[1]||(a[1]=e=>o.version=e),name:"version",options:N()},null,8,["modelValue","options"])])):m("",!0)])]),_:1})]),o.game&&o.version?(l(),p("div",oe,[i("h2",ne,[L(" Settings for "),i("b",null,M(A()),1)]),le,(l(!0),p(V,null,T(G().settings,e=>(l(),r(y,{key:e.id,label:e.name,help:e.tooltip},{default:d(()=>[e.type==String?(l(),r(v,{key:0,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,"model-value":e.value,name:e.keyId,placeholder:"Not Set"},null,8,["modelValue","onUpdate:modelValue","model-value","name"])):e.type==Boolean?(l(),r(H,{key:1,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,"input-value":e.value,type:"switch",name:e.keyId},null,8,["modelValue","onUpdate:modelValue","input-value","name"])):m("",!0),e.type==Array?(l(),r(v,{key:2,modelValue:e.options[e.value],"onUpdate:modelValue":n=>e.options[e.value]=n,name:e.keyId,options:e.options,placeholder:"Select..."},null,8,["modelValue","onUpdate:modelValue","name","options"])):m("",!0)]),_:2},1032,["label","help"]))),128)),s(W,{color:"success",type:"submit",label:"Save",small:!1})])):m("",!0)]),_:1})],64))]),_:1})]),_:1}))}};export{ve as default};
