import{r as x,s as V,a as c,c as p,w as t,g as l,b as s,v,e as r,x as h,P as y,y as u,Q as I,f,I as P,R as X,k as A,_ as U,A as $,q as C}from"./index.e8b5e4cf.js";import{_ as q}from"./FormCheckRadio.9a2a53cc.js";import{_ as n}from"./FormField.55f17ff4.js";import{_ as d}from"./FormControl.f0469494.js";import{_ as R}from"./LayoutGuest.8d96585c.js";import{A as k}from"./account.ea7960cd.js";const D={class:"flex md:min-h-screen md:items-center md:justify-center"},N={class:"p-4 flex flex-col md:flex-row w-full space-y-2 md:space-y-0 md:space-x-4"},S=l("div",{class:"flex flex-col items-center text-wrap h-full md:mt-5"},[l("img",{src:$,class:"rounded-full shadow-lg mb-2"}),l("h1",{class:"text-xl"},[l("samp",null,"PhaseII")]),l("p",{class:"text-sm text-gray-700 dark:text-white/75"}," Spinnin' since 2021 "),l("hr",{class:"border-t border-1 my-1 w-full"}),l("p",{class:"text-lg relative bottom-0"},"Account Registration")],-1),B=l("div",{class:"md:border-r md:border-1"},null,-1),E={class:"flex gap-2 mt-4"},L={class:"col-span-2"},M=l("hr",{class:"border-t border-1 my-4 w-full"},null,-1),O={class:"flex flex-col gap-2 my-4"},j=l("h2",null,"Have an Account?",-1),J={__name:"RegisterView",setup(z){const _=C(),m=x(!1),a=V({username:"",email:"",newPassword:"",confirmPassword:"",pin:"",cardId:"",remember:!0});function g(i){var e=i.target.value;e=e.replace(/[^0-9]/g,""),a.pin=e}function w(i){var e=i.target.value;e=e.replace(/[^A-Za-z0-9]/g,""),e=e.toUpperCase().replace(/(.{4})/g,"$1-").replace(/-$/,""),a.cardId=e}async function b(){m.value=!0,(await k(a)).status=="success"&&(m.value=!1,alert("User account registered. Please log in!"),_.push("login"))}return(i,e)=>(c(),p(R,null,{default:t(()=>[l("div",D,[s(U,{class:"w-full md:w-auto rounded-none md:rounded-xl md:drop-shadow-xl","has-table":"","is-auth":""},{default:t(()=>[l("div",N,[S,B,l("div",null,[l("form",{class:"grid grid-cols-2 gap-x-2",onSubmit:e[7]||(e[7]=v(o=>b(),["prevent"]))},[s(n,{label:"Desired Username"},{default:t(()=>[s(d,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=o=>a.username=o),icon:r(h),name:"username",required:"",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Email Address"},{default:t(()=>[s(d,{modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=o=>a.email=o),icon:r(y),type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Password"},{default:t(()=>[s(d,{modelValue:a.newPassword,"onUpdate:modelValue":e[2]||(e[2]=o=>a.newPassword=o),icon:r(u),name:"newPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Password Confirmation"},{default:t(()=>[s(d,{modelValue:a.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>a.confirmPassword=o),icon:r(u),name:"confirmPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Card ID",help:"The ACCESS CODE provided by the game."},{default:t(()=>[s(d,{modelValue:a.cardId,"onUpdate:modelValue":e[4]||(e[4]=o=>a.cardId=o),icon:r(I),name:"cardId",type:"card",placeholder:"XXXX-XXXX-XXXX-XXXX",minlength:19,maxlength:19,required:"",onInput:w},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Game PIN"},{default:t(()=>[s(d,{modelValue:a.pin,"onUpdate:modelValue":e[5]||(e[5]=o=>a.pin=o),icon:r(u),type:"password",name:"pin",required:"",minlength:4,maxlength:4,inputmode:"numeric",pattern:"\\d{4}",autocomplete:"pin",onInput:g},null,8,["modelValue","icon"])]),_:1}),s(q,{modelValue:a.remember,"onUpdate:modelValue":e[6]||(e[6]=o=>a.remember=o),class:"col-span-2",name:"remember",label:"Remember Me","input-value":!0},null,8,["modelValue"]),l("div",E,[s(f,{type:"submit",label:"Register",color:"success"}),m.value?(c(),p(P,{key:0,path:r(X),color:"text-yellow-500",class:"animate animate-spin"},null,8,["path"])):A("",!0)])],32),l("div",L,[M,l("div",O,[j,s(f,{label:"Log In",color:"info",href:"/#/auth/login"})])])])])]),_:1})])]),_:1}))}};export{J as default};
