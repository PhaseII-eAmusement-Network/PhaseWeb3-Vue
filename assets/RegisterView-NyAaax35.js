import{b as V,r as v,p as _,c as p,d as c,w as r,i as a,e as s,h as y,s as X,v as I,g as t,x as P,z as U,y as u,B as $,f as h,l as f,C,D as A,E as q}from"./index-CZV9MRmx.js";import{_ as R}from"./FormCheckRadio-C4_0RGU8.js";import{_ as n}from"./FormField-BxzsYNTe.js";import{_ as d}from"./FormControl-h3k2K9va.js";import{_ as k}from"./LayoutGuest-NNjpiF5R.js";const D={class:"flex md:min-h-screen md:items-center md:justify-center"},B={class:"p-4 flex flex-col md:flex-row w-full space-y-2 md:space-y-0 md:space-x-4"},E={class:"flex gap-2 mt-4"},N={class:"col-span-2"},S={class:"flex flex-col gap-2 my-4"},G={__name:"RegisterView",setup(L){const g=V(),m=v(!1),l=_({username:"",email:"",newPassword:"",confirmPassword:"",pin:"",cardId:"",remember:!0});function w(i){var e=i.target.value;e=e.replace(/[^0-9]/g,""),l.pin=e}function b(i){var e=i.target.value;e=e.replace(/[^A-Za-z0-9]/g,""),e=e.toUpperCase().replace(/(.{4})/g,"$1-").replace(/-$/,""),l.cardId=e}async function x(){m.value=!0,(await q(l)).status=="success"&&(m.value=!1,alert("User account registered. Please log in!"),g.push("login"))}return(i,e)=>(c(),p(k,null,{default:r(()=>[a("div",D,[s(y,{class:"w-full md:w-auto rounded-none md:rounded-xl md:drop-shadow-xl","has-table":"","is-auth":""},{default:r(()=>[a("div",B,[e[10]||(e[10]=a("div",{class:"flex flex-col items-center text-wrap h-full md:mt-5"},[a("img",{src:X,class:"rounded-full shadow-lg mb-2"}),a("h1",{class:"text-xl"},[a("samp",null,"PhaseII")]),a("p",{class:"text-sm text-gray-700 dark:text-white/75"}," Spinnin' since 2021 "),a("hr",{class:"border-t border my-1 w-full"}),a("p",{class:"text-lg relative bottom-0"},"Account Registration")],-1)),e[11]||(e[11]=a("div",{class:"md:border-r md:border"},null,-1)),a("div",null,[a("form",{class:"grid grid-cols-2 gap-x-2",onSubmit:e[7]||(e[7]=I(o=>x(),["prevent"]))},[s(n,{label:"Desired Username"},{default:r(()=>[s(d,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=o=>l.username=o),icon:t(P),name:"username",required:"",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Email Address"},{default:r(()=>[s(d,{modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=o=>l.email=o),icon:t(U),type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Password"},{default:r(()=>[s(d,{modelValue:l.newPassword,"onUpdate:modelValue":e[2]||(e[2]=o=>l.newPassword=o),icon:t(u),name:"newPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Password Confirmation"},{default:r(()=>[s(d,{modelValue:l.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>l.confirmPassword=o),icon:t(u),name:"confirmPassword",type:"password",required:""},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Card ID",help:"The ACCESS CODE provided by the game."},{default:r(()=>[s(d,{modelValue:l.cardId,"onUpdate:modelValue":e[4]||(e[4]=o=>l.cardId=o),icon:t($),name:"cardId",type:"card",placeholder:"XXXX-XXXX-XXXX-XXXX",minlength:19,maxlength:19,required:"",onInput:b},null,8,["modelValue","icon"])]),_:1}),s(n,{label:"Game PIN"},{default:r(()=>[s(d,{modelValue:l.pin,"onUpdate:modelValue":e[5]||(e[5]=o=>l.pin=o),icon:t(u),type:"password",name:"pin",required:"",minlength:4,maxlength:4,inputmode:"numeric",pattern:"\\d{4}",autocomplete:"pin",onInput:w},null,8,["modelValue","icon"])]),_:1}),s(R,{modelValue:l.remember,"onUpdate:modelValue":e[6]||(e[6]=o=>l.remember=o),class:"col-span-2",name:"remember",label:"Remember Me","input-value":!0},null,8,["modelValue"]),a("div",E,[s(f,{type:"submit",label:"Register",color:"success"}),m.value?(c(),p(C,{key:0,path:t(A),color:"text-yellow-500",class:"animate animate-spin"},null,8,["path"])):h("",!0)])],32),a("div",N,[e[9]||(e[9]=a("hr",{class:"border-t border my-4 w-full"},null,-1)),a("div",S,[e[8]||(e[8]=a("h2",null,"Have an Account?",-1)),s(f,{label:"Log In",color:"info",href:"/#/auth/login"})])])])])]),_:1})])]),_:1}))}};export{G as default};
