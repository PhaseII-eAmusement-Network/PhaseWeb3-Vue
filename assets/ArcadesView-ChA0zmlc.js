import{a as g,r as C,o as A,s as L,c as S,e as c,w as n,f as s,_ as $,j as i,k as t,P as m,i as u,aC as k,l as w,F as y,m as E,t as r,n as p,aD as D,aE as O,y as V,q as B}from"./index-BLNUJ2NM.js";import{_ as I}from"./GeneralTable-J-7uFbEf.js";import{_ as P}from"./FormField-DvuyRx6-.js";import{_ as F}from"./FormControl-C432udtk.js";import{h as M}from"./admin-BOwxU-p3.js";const j={class:"grid gap-4"},N={class:"md:flex w-full place-content-between"},R={class:"text-lg md:text-xl"},q={class:"text-md md:text-lg"},U={class:"text-md"},z={class:"bg-slate-900 p-2 rounded-md mt-2 w-12 max-w-14 text-center"},G={class:"text-lg font-mono text-pink-700"},H={class:"flex align-middle mt-2 md:mt-0 max-h-12"},J={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},K={class:"w-full"},ee={__name:"ArcadesView",setup(Q){const x=g(),d=C([]),h=[{text:"Name",value:"name",width:150,sortable:!0},{text:"Description",value:"description",width:150},{text:"Owners",value:"owners",width:150},{text:"PASELI Enabled",value:"data.paseli_enabled",width:50},{text:"Infinite PASELI",value:"data.paseli_infinite",width:50},{text:"Beta Enabled",value:"data.is_beta",width:50,sortable:!0}];A(async()=>{b()});async function b(){try{const a=await M();var l=[];for(var e of a){if(e.timestamp){const _=new Date(e.timestamp*1e3);e.timestamp=_.toLocaleString()}e.owners&&(e.owners=e.owners.join(", ")),l.push(e)}d.value=l}catch(a){console.error("Failed to fetch client data:",a)}}const f=l=>{const e=l.id;x.push(`/arcade/${e}`)},o=L({filter:null});function v(){if(o.filter)return d.value.filter(l=>l.id.toString().toLowerCase().includes(o.filter.toLowerCase())||l.name.toLowerCase().includes(o.filter.toLowerCase())||l.description.toLowerCase().includes(o.filter.toLowerCase())||l.owners.toLowerCase().includes(o.filter.toLowerCase()))}return(l,e)=>(c(),S(B,null,{default:n(()=>[s($,null,{default:n(()=>[s(i,{class:"mb-6 p-1"},{default:n(()=>e[2]||(e[2]=[t("h1",{class:"text-3xl"},"Arcade Management",-1),t("p",{class:"text-sm text-gray-400"},"Enter an arcade to manage it",-1)])),_:1}),s(m,{icon:u(k),title:"Search Arcades",color:"text-amber-600",main:""},null,8,["icon"]),s(i,{class:"mb-6"},{default:n(()=>[s(P,{label:"Search",help:"Search by ID, name, description, or owner.",class:"w-full md:w-1/3"},{default:n(()=>[s(F,{modelValue:o.filter,"onUpdate:modelValue":e[0]||(e[0]=a=>o.filter=a),"model-value":o.filter},null,8,["modelValue","model-value"])]),_:1}),t("div",j,[(c(!0),w(y,null,E(v(),a=>(c(),w("div",{key:a.id,class:"bg-slate-800 p-4 rounded-xl"},[t("div",N,[t("div",null,[t("h1",R,r(a.name),1),t("h2",q,r(a.description),1),t("h2",U,"Managed by "+r(a.owners),1),t("div",z,[t("h2",G,r(a.id),1)])]),t("div",H,[s(p,{label:"Open Arcade",color:"info",onClick:_=>f(a)},null,8,["onClick"])])])]))),128))])]),_:1}),s(m,{icon:u(D),title:"All Arcades",color:"text-blue-400",main:""},null,8,["icon"]),s(i,{"has-table":"",class:"mb-6"},{default:n(()=>[t("div",J,[t("div",K,[s(I,{headers:h,items:d.value,onRowClicked:f},null,8,["items"]),e[3]||(e[3]=t("h1",{class:"mx-4 mt-1 mb-2 text-md lg:text-lg"}," Click row to open arcade ",-1))])])]),_:1}),s(m,{icon:u(O),title:"Create Arcade",color:"text-emerald-600",main:""},null,8,["icon"]),s(i,{"is-form":"",class:"row-span-1",onSubmit:e[1]||(e[1]=V(a=>l.createClient(),["prevent"]))},{default:n(()=>[s(p,{color:"info",small:!1,label:"Arcade Onboarding",to:"/admin/onboarding"})]),_:1})]),_:1})]),_:1}))}};export{ee as default};
