import{r as R,o as T,c as $,e as j,w as o,f as e,k as G,_ as u,j as i,$ as c,g as m,aA as H,aB as s,aC as S,F as q,n as M,p as U,q as W}from"./index.e5d5e98a.js";import{_ as E}from"./GeneralTable.594f8669.js";import{A as z}from"./admin.e34113b2.js";const J={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mb-6"},K={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},O={class:"w-full"},Q={class:"bg-white dark:bg-slate-900/95 rounded-2xl lg:flex lg:justify-between"},X={class:"w-full"},te={__name:"DashboardView",setup(Y){const t=R({}),b=R(!0);T(async()=>{try{const l=await z();t.value=l,b.value=!1}catch(l){console.log("Failed to fetch admin data:",l)}});const N=[{text:"Timestamp",value:"date",width:120},{text:"IP Address",value:"data.ip",width:120},{text:"Game",value:"data.model",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Name",value:"data.name",width:120},{text:"Value",value:"data.value",width:120}],V=[{text:"Timestamp",value:"date",width:120},{text:"PCBID",value:"data.pcbid",width:120},{text:"Delta",value:"data.delta",width:120},{text:"Remaining Balance",value:"data.balance",width:120},{text:"Reason",value:"data.reason",width:120}];function F(l){var n=[];for(var a of l)if(a.type=="paseli_transaction"){if(a.timestamp){const r=new Date(a.timestamp*1e3);a.date=r.toLocaleString()}n.push(a)}return n}function L(l){var n=[];for(var a of l)if(a.type=="pcbevent"){if(a.timestamp){const r=new Date(a.timestamp*1e3);a.date=r.toLocaleString()}n.push(a)}return n}return(l,n)=>($(),j(W,null,{default:o(()=>[e(U,null,{default:o(()=>{var a,r,f,v,h,_,p,g,x,w,A,k,y,B,D,I,P,C;return[b.value?M("",!0):($(),G(q,{key:0},[e(u,{class:"mb-6 p-1"},{default:o(()=>n[0]||(n[0]=[i("h1",{class:"text-3xl"},"PhaseII eAmusement Network",-1),i("p",{class:"text-sm text-gray-400"},"Welcome to the backend ;)",-1)])),_:1}),e(c,{icon:m(H),title:"Admin Dashboard",color:"text-red-600",main:""},null,8,["icon"]),i("div",J,[e(s,{number:(r=(a=t.value)==null?void 0:a.statistics)==null?void 0:r.user,label:"User Account(s)"},null,8,["number"]),e(s,{number:(v=(f=t.value)==null?void 0:f.statistics)==null?void 0:v.card,label:"Registered Cards"},null,8,["number"]),e(s,{number:(_=(h=t.value)==null?void 0:h.statistics)==null?void 0:_.profile,label:"Game Profiles"},null,8,["number"]),e(s,{number:(g=(p=t.value)==null?void 0:p.statistics)==null?void 0:g.link,label:"Rivals"},null,8,["number"]),e(s,{number:(w=(x=t.value)==null?void 0:x.statistics)==null?void 0:w.arcade,label:"Registered Arcades"},null,8,["number"]),e(s,{number:(k=(A=t.value)==null?void 0:A.statistics)==null?void 0:k.score,label:"Published Scores"},null,8,["number"]),e(s,{number:(B=(y=t.value)==null?void 0:y.statistics)==null?void 0:B.score_history,label:"Score Attempts"},null,8,["number"]),e(s,{number:(I=(D=t.value)==null?void 0:D.statistics)==null?void 0:I.achievement,label:"Achievements"},null,8,["number"]),e(s,{number:(C=(P=t.value)==null?void 0:P.statistics)==null?void 0:C.audit,label:"Recent Event Logs"},null,8,["number"])]),e(c,{icon:m(S),title:"Recent PCB Events"},null,8,["icon"]),e(u,{"has-table":""},{default:o(()=>{var d;return[i("div",K,[i("div",O,[e(E,{headers:N,items:L((d=t.value)==null?void 0:d.audit)},null,8,["items"])])])]}),_:1}),e(c,{icon:m(S),title:"Recent PASELI Transactions"},null,8,["icon"]),e(u,{"has-table":""},{default:o(()=>{var d;return[i("div",Q,[i("div",X,[e(E,{headers:V,items:F((d=t.value)==null?void 0:d.audit)},null,8,["items"])])])]}),_:1})],64))]}),_:1})]),_:1}))}};export{te as default};
